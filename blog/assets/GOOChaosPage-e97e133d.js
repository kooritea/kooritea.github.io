import{P as f}from"./PageHeader-15462a9d.js";import p from"./MDEditor-d30dff6b.js";import{p as _}from"./GreatOldOne-905494b5.js";import{_ as v,r,a as E,b as i,d as u,e as k,x as c,f as V,h as x,aj as m}from"./index-a062e1ba.js";import"./MarkDown-a436b381.js";import"./ImageCon-515847a9.js";const g={components:{PageHeader:f,MDEditor:p},setup(h){const a=r(!1),n=r(null),e=r(null),o=r(""),t=r(""),l=()=>_(o.value,a.value&&t.value?t.value:void 0).then(()=>{m.success("发表成功")}),d=E([{name:()=>a.value?"关闭深色模式":"深色模式",type:"default",handler:()=>{a.value=!a.value}},{name:"提交",type:"primary",handler:()=>{if(!o.value){m.warning("正文内容不能为空");return}return l().then(()=>{n.value.submitHandler(),e.value&&e.value.submitHandler()})}}]);return{addDarkMode:a,handlers:d,whiteEditor:n,darkEditor:e,whiteEditorValue:o,darkEditorValue:t}}},w={class:"page"};function M(h,a,n,e,o,t){const l=i("PageHeader"),d=i("MDEditor");return u(),k("div",w,[c(l),c(d,{ref:"whiteEditor",modelValue:e.whiteEditorValue,"onUpdate:modelValue":a[0]||(a[0]=s=>e.whiteEditorValue=s),cache:"white-mode","show-default-handlers":["reset","clean"],"ex-handlers":e.addDarkMode?[]:e.handlers},null,8,["modelValue","ex-handlers"]),e.addDarkMode?(u(),V(d,{key:0,ref:"darkEditor",modelValue:e.darkEditorValue,"onUpdate:modelValue":a[1]||(a[1]=s=>e.darkEditorValue=s),cache:"dark-mode",title:"深色模式内容","show-default-handlers":["reset","clean"],"ex-handlers":e.addDarkMode?e.handlers:[]},null,8,["modelValue","ex-handlers"])):x("",!0)])}const C=v(g,[["render",M],["__scopeId","data-v-fe390941"]]);export{C as default};
