import{_ as v,L as y,u as L,r as E,w as g,a as c,e as x,o as u,c as m,i as _,k as f,J as k}from"./index-8b8267e0.js";const A="https://kooritea.moe/blog/assets/404.png";const C={components:{LoadingIcon:y},props:{loading:{type:Boolean,default:()=>!0},src:{type:[String,Array],default:()=>""},alt:{type:String,default:()=>""},prefix:{type:[String,Array],default:()=>""}},setup(e,{emit:a,attrs:t}){const{computedLoading:r,computedSrc:n}=L(e,a),i=E(0);g(n,()=>{i.value=0,r.value=!0});const l=c(()=>Array.isArray(n.value)?Array.isArray(e.prefix)?n.value:n.value.map(o=>e.prefix+o):Array.isArray(e.prefix)?e.prefix.map(o=>o+n.value):[e.prefix+n.value]),s=c(()=>l.value[i.value]),d=c(()=>i.value>=l.value.length),p=c(()=>d.value?"/assets/404.png":s.value);return g(d,o=>{o&&(r.value=!1,typeof t.onError=="function"&&t.onError())}),{computedLoading:r,imageSrc:s,isError:d,onLoad:o=>{r.value=!1,typeof t.onLoad=="function"&&t.onLoad(o)},onError:o=>{i.value++},applySrc:p}}},I=["src","alt"],S={key:1,class:"img",src:A};function b(e,a,t,r,n,i){const l=x("LoadingIcon");return u(),m("div",{class:_(["image",{error:r.isError,loading:r.computedLoading}])},[r.isError?f("",!0):(u(),m("img",{key:0,class:_(["img",{loading:r.computedLoading}]),src:r.imageSrc,alt:t.alt,onLoad:a[0]||(a[0]=(...s)=>r.onLoad&&r.onLoad(...s)),onError:a[1]||(a[1]=(...s)=>r.onError&&r.onError(...s))},null,42,I)),r.isError?(u(),m("img",S)):f("",!0),r.computedLoading?(u(),k(l,{key:2})):f("",!0)],2)}const z=v(C,[["render",b],["__scopeId","data-v-511b8bd5"]]);export{z as I};
