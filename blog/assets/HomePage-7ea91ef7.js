import{_ as v,L as y,A as x,r as d,a as f,o as I,c as b,b as k,d as e,e as s,f as p,g as a,h as g,F as B,t as _,n as L,i as C,j as H,w as j,k as A,l as N}from"./index-c35f432d.js";import{I as V}from"./ImageCon-a5abdec0.js";const w={components:{ImageCon:V,LoadingIcon:y,AsyncButtom:x},setup(){const h=d(!0),i=d(!0),m=f({}),o=d(0),c=d(0),n=f([]),l=()=>A(n).then(t=>{n.includes(t.id)?n.splice(0,n.length):n.push(t.id),Object.assign(m,t),i.value=!1});l(),I(()=>{var t,r;o.value=(t=c.value)!=null&&t.clientHeight?`${(r=c.value)==null?void 0:r.clientHeight}px`:"unset"});const u=b(()=>h.value||i.value);return{imageLoading:h,hitokoto:m,loading:u,ElInfo:c,infoHeight:o,reload:l}}},E={class:"home"},z={ref:"ElInfo",class:"info"},F={key:0,class:"cn-text"},P={key:1,class:"text"},S={key:2,class:"author-title"},T={class:"author"},U={class:"title"};function D(h,i,m,o,c,n){const l=k("ImageCon"),u=k("LoadingIcon"),t=k("AsyncButtom");return e(),s("div",E,[o.hitokoto.id?(e(),p(l,{key:0,loading:o.imageLoading,"onUpdate:loading":i[0]||(i[0]=r=>o.imageLoading=r),src:o.hitokoto.url,"loading-type":"fade",prefix:["https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://fastly.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://raw.githubusercontent.com/kooritea/kooritea.github.io/img"]},null,8,["loading","src","prefix"])):a("",!0),g("div",{class:L(["info-box",{loading:o.loading}]),style:C({height:o.infoHeight})},[g("div",z,[o.loading?a("",!0):(e(),s(B,{key:0},[o.loading?a("",!0):(e(),s("div",F,_(o.hitokoto.cnText),1)),o.loading?a("",!0):(e(),s("div",P,_(o.hitokoto.text),1)),o.loading?a("",!0):(e(),s("div",S,[g("span",T,_(o.hitokoto.author),1),g("span",U,"《"+_(o.hitokoto.title)+"》",1)]))],64)),o.loading?(e(),p(u,{key:1})):a("",!0)],512)],6),H(t,{class:"reload-button",type:"info","on-click":o.reload},{default:j(()=>[N(" 换一张 ")]),_:1},8,["on-click"])])}const G=v(w,[["render",D],["__scopeId","data-v-c81192bc"]]);export{G as default};
