import{_ as x,L as b,A as I,u as L,r as c,a as y,o as B,c as C,b as f,d as t,e as l,f as u,g as n,h as r,F as H,t as g,n as A,i as j,w,j as E,k as N}from"./index-a2020ea1.js";import{I as V}from"./ImageCon-9f9d3e13.js";const z={components:{ImageCon:V,LoadingIcon:b,AsyncButtom:I},setup(){const{mobileMode:v}=L(),a=c(!0),h=c(!0),o=c(!0),_=y({}),m=c(0),s=c(0),e=y([]),d=()=>E(e).then(i=>{e.includes(i.id)?e.splice(0,e.length):e.push(i.id),Object.assign(_,i),h.value=!1,o.value=!1});d(),B(()=>{var i,p;m.value=(i=s.value)!=null&&i.clientHeight?`${(p=s.value)==null?void 0:p.clientHeight}px`:"unset"});const k=C(()=>a.value||h.value);return{mobileMode:v,imageLoading:a,firstLoading:o,hitokoto:_,loading:k,ElInfo:s,infoHeight:m,reload:d}}},F={class:"home"},M={ref:"ElInfo",class:"info"},P={key:0,class:"cn-text"},S={key:1,class:"text"},T={key:2,class:"author-title"},U={class:"author"},D={class:"title"};function O(v,a,h,o,_,m){const s=f("ImageCon"),e=f("LoadingIcon"),d=f("AsyncButtom");return t(),l("div",F,[o.hitokoto.id?(t(),u(s,{key:0,loading:o.imageLoading,"onUpdate:loading":a[0]||(a[0]=k=>o.imageLoading=k),src:o.mobileMode&&o.hitokoto.mobile?o.hitokoto.mobile:o.hitokoto.pc,"loading-type":"fade",prefix:["https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://fastly.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://raw.githubusercontent.com/kooritea/kooritea.github.io/img"]},null,8,["loading","src","prefix"])):n("",!0),r("div",{class:A(["info-box",{loading:o.loading}]),style:j({height:o.infoHeight})},[r("div",M,[o.loading?n("",!0):(t(),l(H,{key:0},[o.loading?n("",!0):(t(),l("div",P,g(o.hitokoto.cnText),1)),o.loading?n("",!0):(t(),l("div",S,g(o.hitokoto.text),1)),o.loading?n("",!0):(t(),l("div",T,[r("span",U,g(o.hitokoto.author),1),r("span",D,"《"+g(o.hitokoto.title)+"》",1)]))],64)),o.loading?(t(),u(e,{key:1})):n("",!0)],512)],6),o.firstLoading?n("",!0):(t(),u(d,{key:1,class:"reload-button",type:"info","on-click":o.reload},{default:w(()=>[N(" 换一张 ")]),_:1},8,["on-click"]))])}const J=x(z,[["render",O],["__scopeId","data-v-cd111683"]]);export{J as default};
