import{_ as p,L as _,l as E,m as L,r as x,p as m,c,b as A,q as S,d as u,e as g,s as k,n as v,v as C,g as f,f as I}from"./index-10d7b0ae.js";const B="https://kooritea.moe/assets/404.png";const T={components:{LoadingIcon:_},directives:{imgFadeEnter:E},props:{loading:{type:Boolean,default:()=>!0},src:{type:[String,Array],default:()=>""},alt:{type:String,default:()=>""},prefix:{type:[String,Array],default:()=>""},loadingType:{type:String,default:()=>"icon"}},setup(a,{emit:o,attrs:r}){const{computedLoading:e,computedSrc:t}=L(a,o),s=x(0);m(t,()=>{s.value=0,e.value=!0});const l=c(()=>Array.isArray(t.value)?Array.isArray(a.prefix)?t.value:t.value.map(n=>a.prefix+n):Array.isArray(a.prefix)?a.prefix.map(n=>n+t.value):[a.prefix+t.value]),d=c(()=>l.value[s.value]),i=c(()=>s.value>=l.value.length),y=c(()=>i.value?"/assets/404.png":d.value);return m(i,n=>{n&&(e.value=!1,typeof r.onError=="function"&&r.onError())}),{computedLoading:e,imageSrc:d,isError:i,onLoad:n=>{e.value=!1,typeof r.onLoad=="function"&&r.onLoad(n)},onError:n=>{s.value++},applySrc:y}}},w=["src","alt"],D={key:1,class:"img",src:B};function F(a,o,r,e,t,s){const l=A("LoadingIcon"),d=S("imgFadeEnter");return u(),g("div",{class:v(["image",{["loading-type-"+r.loadingType]:!0,error:e.isError,loading:e.computedLoading}])},[e.isError?f("",!0):k((u(),g("img",{key:0,class:v(["img",{loading:e.computedLoading}]),src:e.imageSrc,alt:r.alt,onLoad:o[0]||(o[0]=(...i)=>e.onLoad&&e.onLoad(...i)),onError:o[1]||(o[1]=(...i)=>e.onError&&e.onError(...i)),onDragstart:o[2]||(o[2]=C(()=>{},["prevent"]))},null,42,w)),[[d,r.loadingType==="fade"]]),e.isError?(u(),g("img",D)):f("",!0),e.computedLoading&&r.loadingType==="icon"?(u(),I(l,{key:2})):f("",!0)],2)}const z=p(T,[["render",F],["__scopeId","data-v-e1e68e5f"]]);export{z as I};
