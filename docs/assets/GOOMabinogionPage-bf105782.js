import{_ as v,B as w,a as x,A as M,M as O}from"./index-5aeaea64.js";import{P as E}from"./PageHeader-746118d6.js";import{b as F,c as P,d as S,e as A,f as C,g as G,h as U}from"./element-plus-4829c1e6.js";import{r as j,aA as l,o as u,X as p,Y as r,e as b,aC as q,_ as n,U as V,am as f,V as I,a4 as N,f as R}from"./vendor-c5239138.js";import{c as B,d as H}from"./GreatOldOne-ac266369.js";import"./highlightjs-b0208cd2.js";const T={components:{ElForm:F,ElFormItem:P,ElInput:S,ElRadioGroup:A,ElRadio:C,ButtonBox:w},props:{modelValue:{type:Object,default:()=>({})},fields:{type:Array,default:()=>[]},onSubmit:{type:Function,default:void 0}},emits:["update:modelValue"],setup(e,{emit:d}){const c=j(null),{computedModelValue:t}=x(e,d);return{computedModelValue:t,handlers:[{name:"提交",type:"primary",handler:()=>new Promise(s=>{c.value.validate((m,i)=>{m&&(typeof e.onSubmit=="function"?s(e.onSubmit(t.value)):s())})})}],form:c}}};function z(e,d,c,t,k,s){const m=l("el-input"),i=l("el-radio"),y=l("el-radio-group"),_=l("el-form-item"),h=l("ButtonBox"),a=l("el-form");return u(),p(a,{ref:"form",model:t.computedModelValue,"label-position":"top"},{default:r(()=>[(u(!0),b(I,null,q(c.fields,o=>(u(),b("div",{key:o.prop},[n(_,{label:o.label,prop:o.prop,required:o.required},{default:r(()=>[o.type==="input"?(u(),p(m,{key:0,modelValue:t.computedModelValue[o.prop],"onUpdate:modelValue":g=>t.computedModelValue[o.prop]=g},null,8,["modelValue","onUpdate:modelValue"])):V("",!0),o.type==="boolean"?(u(),p(y,{key:1,modelValue:t.computedModelValue[o.prop],"onUpdate:modelValue":g=>t.computedModelValue[o.prop]=g},{default:r(()=>[n(i,{border:"",label:!0},{default:r(()=>[f("是")]),_:1}),n(i,{border:"",label:!1},{default:r(()=>[f("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["label","prop","required"])]))),128)),t.handlers.length>0?(u(),p(h,{key:0,handlers:t.handlers},null,8,["handlers"])):V("",!0)]),_:1},8,["model"])}const L=v(T,[["render",z]]);const X={components:{AsyncButtom:M,PageHeader:E,GOOMabinogionFields:L,ElTable:G,ElTableColumn:U},setup(){const e=N([]),d=()=>H().then(c=>{e.splice(0,e.length),e.push(...c)});return d(),{realtodos:e,load:d}},methods:{onSubmit(e,d){return B(e.row.uuid,{type:"resolve",data:d}).then(()=>(O.success("处理成功"),this.load()))},reject(e,d){return B(e.row.uuid,{type:"reject",reason:d.inputValue}).then(()=>this.load())}}},Y={class:"page"},D={class:"preview"},J={key:0,class:"quick-boolean"};function K(e,d,c,t,k,s){const m=l("PageHeader"),i=l("AsyncButtom"),y=l("GOOMabinogionFields"),_=l("el-table-column"),h=l("el-table");return u(),b("div",Y,[n(m),n(h,{border:"",data:t.realtodos,style:{width:"100%"}},{default:r(()=>[n(_,{type:"expand"},{default:r(a=>[R("div",D,[a.row.fields.length===1&&a.row.fields[0].type==="boolean"?(u(),b("div",J,[n(i,{type:"primary","on-click":()=>s.onSubmit(a,{[a.row.fields[0].prop]:!0})},{default:r(()=>[f(" 是 ")]),_:2},1032,["on-click"]),n(i,{type:"default","on-click":()=>s.onSubmit(a,{[a.row.fields[0].prop]:!0})},{default:r(()=>[f(" 否 ")]),_:2},1032,["on-click"])])):(u(),p(y,{key:1,fields:a.row.fields,"on-submit":o=>s.onSubmit(a,o)},null,8,["fields","on-submit"]))])]),_:1}),n(_,{prop:"name",label:"描述"}),n(_,{label:"操作",width:"120px"},{default:r(a=>[n(i,{type:"danger",size:"mini","on-click":o=>s.reject(a,o),confirm:{showInput:!0,message:"请输入拒绝原因"}},{default:r(()=>[f(" 拒绝 ")]),_:2},1032,["on-click"])]),_:1})]),_:1},8,["data"])])}const te=v(X,[["render",K],["__scopeId","data-v-3ac7795f"]]);export{te as default};
