import{_ as k,A as g,L as S,S as I,u as V,f as B}from"./index-8afe2753.js";import{P as H}from"./PageHeader-56066d73.js";import{e as M}from"./GreatOldOne-395b41b1.js";import{b2 as P,bj as A,ch as i,aP as o,aQ as a,bo as r,aR as n,bu as u,bA as c,bp as C,b_ as L,by as v,bl as y,bz as d,bv as w}from"./vendor-b07f99b0.js";import"./element-plus-966ba156.js";import"./highlightjs-4914df6f.js";const N={components:{AsyncButtom:g,PageHeader:H,LoadingIcon:S,SvgIcon:I},setup(){const l=P(!1),t=A([]),{mobileMode:m}=V(),s=()=>{var _;return M((_=t==null?void 0:t[0])==null?void 0:_.uuid,l.value?"1":"0").then(p=>{t.unshift(...p)})};return s(),{isShowVerbose:l,load:s,logs:t,formatDate:B,mobileMode:m}}},O={class:"page"},z={class:"handlers"},D={class:"log-box"},R={key:0,class:"loading-box"},j=["onClick"],G={class:"message"},E={class:"datetime"},F={key:0,class:"context"},Q={class:"title"},T={key:2,class:"collection-flag"},q={key:0,class:"expand"};function J(l,t,m,s,_,p){const b=i("PageHeader"),h=i("AsyncButtom"),f=i("LoadingIcon"),x=i("SvgIcon");return o(),a("div",O,[r(b),n("div",z,[r(h,{"on-click":s.load,type:"primary"},{default:u(()=>[v(" 加载更多 ")]),_:1},8,["on-click"]),r(h,{"on-click":()=>(s.isShowVerbose=!s.isShowVerbose,s.logs.splice(0,s.logs.length),s.load()),type:s.isShowVerbose?"primary":"default"},{default:u(()=>[v(" 显示verbose日志 ")]),_:1},8,["on-click","type"])]),n("div",D,[s.logs.length===0?(o(),a("div",R,[r(f)])):c("",!0),(o(!0),a(C,null,L(s.logs,e=>(o(),a("div",{key:e.uuid,class:y(["log",{[e.level]:!0,"can-expand":!!e.desp}]),onClick:K=>e.expand=!e.expand},[n("div",G,[n("span",E,d(s.formatDate(e.date,s.mobileMode&!e.expand?"MM-dd HH:mm:ss":"yyyy-MM-dd HH:mm:ss")),1),!s.mobileMode||e.expand?(o(),a("span",F,"["+d(e.context.join("->"))+"]",1)):c("",!0),n("span",Q,d(e.message),1),e.desp?(o(),w(x,{key:1,name:"zhankai1",class:y({"is-expand":e.expand})},null,8,["class"])):c("",!0),e.collection.length>0?(o(),a("span",T," +"+d(e.collection.length),1)):c("",!0)]),e.expand?(o(),a("div",q,d(e.desp),1)):c("",!0)],10,j))),128))])])}const ee=k(N,[["render",J],["__scopeId","data-v-4ee28537"]]);export{ee as default};
