import{cg as i,aR as s,aS as c,aT as b,bB as F,bC as k,bA as p,bD as h,bx as u,bw as _,bR as V,a_ as C,b_ as w,bs as P,cY as j,cZ as D,c4 as M,bu as O,cn as N}from"./vendor-cce75f21.js";import{_ as I}from"./index-88cc91fa.js";import"./highlightjs-4914df6f.js";import"./element-plus-f8e054a6.js";const B={props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:()=>""},easyFormItemScope:{type:[Object],default:()=>({})}},emits:["update:modelValue"],data(){return{showPicker:!1,isCheckAll:!1,isIndeterminate:!1,searchKeyWord:"",createdOption:[]}},computed:{columns(){return[this.easyFormItemScope.getPropValue(this.easyFormItemScope.field.required)?"":{text:"未选择",value:void 0,isClear:!0},...this.options2columns(this.checkOptions)].filter(o=>!!o)},checkOptions(){let o=this.easyFormItemScope.options;return this.easyFormItemScope.getFormProps("allowCreate")&&(o=[...this.createdOption,...o]),this.easyFormItemScope.getFormProps("remote")?o:this.easyFormItemScope.getFormProps("filterable")?o.filter(t=>!this.searchKeyWord||t.label.includes(this.searchKeyWord)||t.value.includes(this.searchKeyWord)):o},showCheckAll(){return this.checkOptions.length<5?!1:this.easyFormItemScope.field.checkAllMethod!==!1}},methods:{checkAll(){this.easyFormItemScope.field.checkAllMethod?this.easyFormItemScope.field.checkAllMethod(this.easyFormItemScope,this.checkOptions):this.$refs.checkAllCheckbox.toggle()},options2columns(o){return o.filter(t=>t.show!==!1).map(t=>{const e={...t,text:t.label};return Array.isArray(e.children)&&(e.children=this.options2columns(e.children)),e})},onPickConfirm({selectedOptions:o}){this.showPicker=!1,this.$emit("update:modelValue",o[0].value)},createOption(){this.createdOption.push({label:this.searchKeyWord,value:this.searchKeyWord,isCreate:!0}),this.searchKeyWord=""}}},L=o=>(j("data-v-56425af0"),o=o(),D(),o),U={key:0,class:"placeholder"},R={key:1,class:"popup-handler"},T={key:0,class:"picker-head"},Y={class:"title"},q={key:2},z=L(()=>b("div",{class:"check-all-margin"},null,-1)),E={key:4,class:"create-box"};function H(o,t,e,v,a,r){const f=i("van-search"),d=i("van-checkbox"),n=i("van-cell"),S=i("van-cell-group"),A=i("van-checkbox-group"),x=i("van-picker"),K=i("van-button"),W=i("van-popup");return s(),c("div",{class:P(["vant-select",{"is-disabled":e.easyFormItemScope.disabled}])},[b("div",{class:"select-inner",onClick:t[0]||(t[0]=()=>{e.easyFormItemScope.disabled||(a.showPicker=!0)})},[F(k(e.easyFormItemScope.viewValue)+" ",1),(e.easyFormItemScope.isMultipleValue?e.modelValue.length===0:!e.modelValue)?(s(),c("div",U,k(e.easyFormItemScope.placeholder),1)):p("",!0),e.easyFormItemScope.disabled?p("",!0):(s(),c("div",R," 选择 "))]),h(W,{show:a.showPicker,"onUpdate:show":t[13]||(t[13]=l=>a.showPicker=l),position:"bottom"},{default:u(()=>[e.easyFormItemScope.isMultipleValue?(s(),c("div",T,[b("span",Y,k(e.easyFormItemScope.placeholder),1),b("span",{class:"confirm",onClick:t[1]||(t[1]=()=>{a.showPicker=!1})},"确认")])):p("",!0),e.easyFormItemScope.getFormProps("filterable")?(s(),_(f,{key:1,modelValue:a.searchKeyWord,"onUpdate:modelValue":[t[2]||(t[2]=l=>a.searchKeyWord=l),t[3]||(t[3]=l=>{var m;(m=e.easyFormItemScope.getFormProps("remoteMethod"))==null||m(l)})],shape:"round",placeholder:"请输入搜索关键词"},null,8,["modelValue"])):p("",!0),e.easyFormItemScope.isMultipleValue?(s(),c("div",q,[r.showCheckAll?(s(),_(n,{key:0,clickable:"",title:"全选",onClick:t[7]||(t[7]=()=>{r.checkAll()})},{"right-icon":u(()=>[h(d,{ref:"checkAllCheckbox",modelValue:a.isCheckAll,"onUpdate:modelValue":t[4]||(t[4]=l=>a.isCheckAll=l),indeterminate:a.isIndeterminate,onClick:t[5]||(t[5]=V(()=>{},["stop"])),onChange:t[6]||(t[6]=l=>{if(l){const m=r.checkOptions.filter(y=>!y.disabled&&y.show!==!1).map(y=>y.value);o.$emit("update:modelValue",m)}else o.$emit("update:modelValue",[]);a.isIndeterminate=!1})},null,8,["modelValue","indeterminate"])]),_:1})):p("",!0),z,h(A,{"model-value":e.modelValue,"onUpdate:modelValue":t[9]||(t[9]=l=>{o.$emit("update:modelValue",l)}),onChange:t[10]||(t[10]=l=>{const m=l.length,y=r.checkOptions.filter(g=>!g.disabled&&g.show!==!1).length;a.isCheckAll=m===y,a.isIndeterminate=m>0&&m<y})},{default:u(()=>[h(S,null,{default:u(()=>[(s(!0),c(C,null,w(r.checkOptions,l=>(s(),_(n,{key:l._key,clickable:"",title:l.label,onClick:()=>{e.modelValue.includes(l.value)?o.$emit("update:modelValue",e.modelValue.filter(m=>l.value!==m)):o.$emit("update:modelValue",[...e.modelValue,l.value])}},{"right-icon":u(()=>[h(d,{name:l.value,disabled:l.disabled,onClick:t[8]||(t[8]=V(()=>{},["stop"]))},null,8,["name","disabled"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["model-value"])])):(s(),_(x,{key:3,title:e.easyFormItemScope.placeholder,columns:r.columns,loading:e.easyFormItemScope.optionsLoading,onConfirm:r.onPickConfirm,onCancel:t[11]||(t[11]=l=>a.showPicker=!1)},null,8,["title","columns","loading","onConfirm"])),e.easyFormItemScope.getFormProps("allowCreate")&&a.searchKeyWord&&r.checkOptions.length===0?(s(),c("div",E,[h(K,{type:"primary",block:"",onClick:t[12]||(t[12]=()=>{r.createOption()})},{default:u(()=>[F(" 点击添加选项 ")]),_:1})])):p("",!0)]),_:1},8,["show"])],2)}const Z=I(B,[["render",H],["__scopeId","data-v-56425af0"]]);const G={props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:()=>""},easyFormItemScope:{type:[Object],default:()=>({})}},emits:["update:modelValue"],data(){return{showPicker:!1}},computed:{currentDate(){let o=new Date(this.modelValue);return o=isNaN(o.valueOf())?new Date:o,[o.getFullYear(),o.getMonth(),o.getDate()]}},methods:{onConfirm({selectedOptions:o}){this.showPicker=!1;const t=new Date(o.map(v=>v.value).join("-")),e=this.easyFormItemScope.getFormProps("valueFormat");e?this.$emit("update:modelValue",M(t).format(e)):this.$emit("update:modelValue",t)}}},J={key:0,class:"placeholder"},Q={key:1,class:"popup-handler"};function X(o,t,e,v,a,r){const f=i("van-date-picker"),d=i("van-popup");return s(),c("div",{class:P(["vant-date-picker",{"is-disabled":e.easyFormItemScope.disabled}])},[b("div",{class:"date-picker-inner",onClick:t[0]||(t[0]=()=>{e.easyFormItemScope.disabled||(a.showPicker=!0)})},[F(k(e.easyFormItemScope.viewValue)+" ",1),e.modelValue?p("",!0):(s(),c("div",J,k(e.easyFormItemScope.placeholder),1)),e.easyFormItemScope.disabled?p("",!0):(s(),c("div",Q," 选择 "))]),h(d,{show:a.showPicker,"onUpdate:show":t[2]||(t[2]=n=>a.showPicker=n),position:"bottom"},{default:u(()=>[h(f,{modelValue:r.currentDate,title:"选择日期",onConfirm:r.onConfirm,onCancel:t[1]||(t[1]=n=>a.showPicker=!1)},null,8,["modelValue","onConfirm"])]),_:1},8,["show"])],2)}const $=I(G,[["render",X],["__scopeId","data-v-a34a1370"]]);const ee={props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:()=>""},easyFormItemScope:{type:[Object],default:()=>({})}},emits:["update:modelValue"]};function te(o,t,e,v,a,r){const f=i("van-radio"),d=i("van-radio-group");return s(),_(d,O({"model-value":e.modelValue,disabled:e.easyFormItemScope.disabled},{...e.easyFormItemScope.getPropValue(e.easyFormItemScope.field.formProps)||{}},{"onUpdate:modelValue":t[0]||(t[0]=n=>{o.$emit("update:modelValue",n)})}),{default:u(()=>[(s(!0),c(C,null,w(e.easyFormItemScope.options,n=>(s(),_(f,{key:n.key||n.value,name:n.value,disabled:n.disabled},{default:u(()=>[F(k(n.label),1)]),_:2},1032,["name","disabled"]))),128))]),_:1},16,["model-value","disabled"])}const oe=I(ee,[["render",te],["__scopeId","data-v-02da4bf5"]]),le={props:{fileList:{type:[Array],default:()=>[]},onChange:{type:Function,default:()=>{}},onRemove:{type:Function,default:()=>{}},easyFormItemScope:{type:[Object],default:()=>({})}},emits:["update:modelValue"]};function ae(o,t,e,v,a,r){const f=i("van-uploader");return s(),_(f,O({"model-value":e.fileList,"after-read":(d,n)=>{e.onChange(d,[...e.fileList,d])},"before-delete":(d,n)=>{e.onRemove(d,e.fileList.filter(S=>S!==d))}},{maxCount:e.easyFormItemScope.getFormProps("limit")??1/0,...e.easyFormItemScope.getPropValue(e.easyFormItemScope.field.formProps)||{}},N(e.easyFormItemScope.getPropValue(e.easyFormItemScope.field.formListeners)||{})),null,16,["model-value","after-read","before-delete"])}const se=I(le,[["render",ae]]),ce={select:Z,"date-picker":$,radio:oe,upload:se};export{ce as default};
