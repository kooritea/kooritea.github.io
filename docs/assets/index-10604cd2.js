import{aR as c,aS as h,cY as de,cZ as ue,aT as d,c_ as De,b0 as z,c$ as Be,bJ as je,b8 as b,b2 as X,bf as Le,cg as v,bp as We,bA as g,bw as _,bs as M,bR as E,by as Y,d0 as Ke,bt as A,b4 as Te,be as Ee,cB as xe,bD as k,bx as D,bB as K,bC as B,b3 as Me,bI as Ce,a_ as G,b_ as q,cV as me,d1 as Ye,d2 as pe,d3 as Xe,bz as U,d4 as he,b1 as qe,d5 as Je,d6 as Ze,bE as Qe}from"./vendor-cce75f21.js";import{E as et,a as tt,z as ot}from"./element-plus-f8e054a6.js";import"./highlightjs-4914df6f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol class="icon" viewBox="0 0 1024 1024"  id="icon-14"><path d="M271.738 465.729c56.472 0 102.438-46.461 102.438-103.514 0-57.083-45.966-103.515-102.438-103.515S169.3 305.132 169.3 362.215c0 57.053 45.966 103.514 102.438 103.514zm0-177.229c40.058 0 72.637 33.074 72.637 73.715 0 40.654-32.579 73.714-72.637 73.714-40.059 0-72.638-33.06-72.638-73.714 0-40.641 32.579-73.715 72.638-73.715zM65 154.4v715.2h894V154.4H65zm864.2 685.4H123.582l288.76-244.322L560.57 724.965l368.63-294.61V839.8zm0-447.582L561.414 686.144 412.662 556.176 94.8 825.118V184.2h834.4v208.018z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-add"><path d="M512 68.256c245.056 0 443.744 198.688 443.744 443.744 0 245.056-198.688 443.744-443.744 443.744-245.056 0-443.744-198.688-443.744-443.744C68.256 266.944 266.944 68.256 512 68.256zm0 64c-209.728 0-379.744 170.016-379.744 379.744 0 209.728 170.016 379.744 379.744 379.744 209.728 0 379.744-170.016 379.744-379.744 0-209.728-170.016-379.744-379.744-379.744zm2.144 174.944a32 32 0 0 1 32 32l-.032 138.656H684.8a32 32 0 0 1 32 32v4.288a32 32 0 0 1-32 32l-138.688-.032V684.8a32 32 0 0 1-32 32h-4.256a32 32 0 0 1-32-32V546.112H339.2a32 32 0 0 1-32-32v-4.256a32 32 0 0 1 32-32h138.656V339.2a32 32 0 0 1 32-32h4.288z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-bianji"><path d="M586.944 132.416 764.48 309.888 301.056 773.44 123.52 595.968zm-342.72 691.008v4.096H67.584V649.088h3.52zM325.248 832h128v128h-128zM512 832h128v128H512zm192 0h128v128H704z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-biaoqing"><path d="M342.364 425.006c28.83 0 52.199-23.373 52.199-52.193 0-28.83-23.368-52.199-52.199-52.199-28.825 0-52.193 23.368-52.193 52.199-.005 28.82 23.368 52.193 52.193 52.193zm347.976 0c28.83 0 52.198-23.373 52.198-52.193 0-28.83-23.367-52.199-52.198-52.199s-52.193 23.368-52.193 52.199c0 28.82 23.362 52.193 52.193 52.193zM237.972 593.802c0 137.4 124.637 248.781 278.38 248.781 153.748 0 278.385-111.38 278.385-248.78H237.972zm278.38 405.366c269.056 0 487.168-218.122 487.168-487.168 0-269.056-218.117-487.168-487.168-487.168C247.296 24.832 29.184 242.944 29.184 512c0 269.05 218.112 487.168 487.168 487.168zm0-34.796C266.516 964.372 63.985 761.841 63.985 512c0-249.83 202.531-452.372 452.367-452.372 249.84 0 452.372 202.536 452.372 452.372 0 249.84-202.536 452.372-452.372 452.372z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-close"><path d="m649.179 512 212.839-212.84c37.881-37.881 37.881-99.298 0-137.179s-99.298-37.881-137.179 0L512 374.821l-212.839-212.84c-37.881-37.881-99.298-37.881-137.179 0s-37.881 99.298 0 137.179L374.821 512 161.982 724.84c-37.881 37.881-37.881 99.297 0 137.179 18.94 18.94 43.765 28.41 68.589 28.41 24.825 0 49.649-9.47 68.589-28.41L512 649.179l212.839 212.84c18.94 18.94 43.765 28.41 68.589 28.41s49.649-9.47 68.59-28.41c37.881-37.882 37.881-99.298 0-137.179L649.179 512z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-copy"><path d="M672 832H224c-52.928 0-96-43.072-96-96V160c0-52.928 43.072-96 96-96h448c52.928 0 96 43.072 96 96v576c0 52.928-43.072 96-96 96zM224 128c-17.632 0-32 14.368-32 32v576c0 17.664 14.368 32 32 32h448c17.664 0 32-14.336 32-32V160c0-17.632-14.336-32-32-32H224zm576 832H320c-17.664 0-32-14.304-32-32s14.336-32 32-32h480c17.664 0 32-14.336 32-32V256c0-17.664 14.304-32 32-32s32 14.336 32 32v608c0 52.928-43.072 96-96 96zM544 320H288c-17.664 0-32-14.336-32-32s14.336-32 32-32h256c17.696 0 32 14.336 32 32s-14.304 32-32 32zm64 160H288.032c-17.664 0-32-14.336-32-32s14.336-32 32-32H608c17.696 0 32 14.336 32 32s-14.304 32-32 32zm0 160H288c-17.664 0-32-14.304-32-32s14.336-32 32-32h320c17.696 0 32 14.304 32 32s-14.304 32-32 32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-icon-time"><path d="M511.997 9.749C234.609 9.749 9.749 234.611 9.749 512.003c0 277.388 224.86 502.248 502.248 502.248s502.254-224.86 502.254-502.248c0-277.387-224.866-502.254-502.254-502.254zm170.846 693.012-17.755 17.76c-9.809 9.802-25.709 9.802-35.516 0l-162.86-162.866c-5.632-5.625-4.937-16.94-4.937-28.078V210.65c0-13.87 11.243-25.111 25.111-25.111h25.11c13.87 0 25.112 11.243 25.112 25.11V521.51l145.735 145.735c9.808 9.807 9.808 25.708 0 35.516zm0 0" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-info-circle"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-48-548a48 48 0 1 0 96 0 48 48 0 1 0-96 0Zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-jia"><path d="M902.245 393.075V628.87H629.177v273.068H393.381V628.87H120.359V393.075h273.023V120.05h235.796v273.025h273.067z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-jian"><path d="M64.323 349.208h895.353v325.584H64.323V349.208Z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-loading"><path d="M533.333 682.667v192h-64v-192h64zm-175.317-72.619 45.27 45.27L267.52 791.06l-45.248-45.226 135.744-135.787zm286.635 0 135.744 135.765-45.227 45.248-135.787-135.744 45.27-45.269zM330.667 480v64h-192v-64h192zM864 480v64H672v-64h192zM735.147 232.939l45.248 45.226L644.65 413.952l-45.27-45.27L735.147 232.94zm-467.627 0 135.765 135.744-45.269 45.269-135.744-135.765 45.227-45.248zm265.813-83.606v192h-64v-192h64z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-menu"><path d="M0 227.556V0h1024v227.556zm0 398.222V398.222h1024v227.556zM0 1024V796.444h1024V1024z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-shanchu"><path d="M907.618 232.742H744.714V116.383c0-12.853-10.42-23.273-23.273-23.273H302.557c-12.853 0-23.273 10.42-23.273 23.273v116.36H116.381c-12.853 0-23.273 10.42-23.273 23.273s10.42 23.272 23.273 23.272h791.237c12.853 0 23.273-10.42 23.273-23.272s-10.421-23.274-23.273-23.274zM325.83 139.654h372.34v93.088H325.83v-93.088zm465.429 232.709c-12.853 0-23.273 10.419-23.273 23.272v488.713H256.013V395.635c0-12.852-10.419-23.272-23.273-23.272s-23.272 10.419-23.272 23.272V907.62c0 12.853 10.419 23.273 23.272 23.273h558.517c12.852 0 23.272-10.42 23.272-23.273V395.635c0-12.852-10.419-23.272-23.271-23.272zM442.19 767.987V395.635c0-12.852-10.42-23.272-23.273-23.272s-23.272 10.419-23.272 23.272v372.352c0 12.853 10.418 23.273 23.272 23.273s23.273-10.42 23.273-23.273zm186.163 0V395.635c0-12.852-10.42-23.272-23.272-23.272s-23.273 10.419-23.273 23.272v372.352c0 12.853 10.42 23.273 23.273 23.273s23.272-10.42 23.272-23.273z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-shuohuaqipao"><path d="M310.857 530.286c30.285 0 54.857-24.573 54.857-54.857s-24.572-54.858-54.857-54.858S256 445.144 256 475.43s24.572 54.857 54.857 54.857zm201.143 0c30.285 0 54.857-24.573 54.857-54.857S542.285 420.57 512 420.57s-54.857 24.573-54.857 54.858 24.572 54.857 54.857 54.857zm201.143 0c30.285 0 54.857-24.573 54.857-54.857s-24.572-54.858-54.857-54.858-54.857 24.573-54.857 54.858 24.572 54.857 54.857 54.857zm256-420.572H54.857c-20.215 0-36.571 16.375-36.571 36.572V804.57c0 20.215 16.356 36.572 36.571 36.572H384L512 1024l128-182.857h329.143c20.215 0 36.571-16.357 36.571-36.572V146.286c0-20.197-16.356-36.572-36.571-36.572zM932.57 768H601.93L512 896.464 422.073 768H91.429V182.857H932.57V768z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-xinxi"><path d="M512.501 958.398c-119.32 0-231.5-46.465-315.87-130.838-84.372-84.372-130.839-196.55-130.839-315.871 0-119.32 46.467-231.5 130.838-315.871C281.003 111.445 393.18 64.98 512.501 64.98s231.5 46.465 315.872 130.838c84.372 84.372 130.837 196.551 130.837 315.87 0 119.323-46.465 231.5-130.837 315.872C744 911.933 631.822 958.398 512.5 958.398zm0-852.436c-223.718 0-405.726 182.009-405.726 405.727S288.783 917.415 512.5 917.415c223.719 0 405.728-182.008 405.728-405.726S736.221 105.962 512.501 105.962zm-2.35 669.992c-18.108 0-32.746-14.679-32.746-32.786V452.192c0-18.109 14.638-32.786 32.746-32.786 18.107 0 32.746 14.678 32.746 32.786v290.976c0 18.107-14.639 32.786-32.746 32.786zM466.277 296.459a44.054 44.054 0 1 0 90.161 0 44.054 44.054 0 1 0-90.161 0Z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-yinliang"><path d="M218.496 334.61c-.391-.02-.774-.02-1.165-.02H100.023c-21.745 0-39.088 17.449-39.088 39.002v273.866c0 21.552 17.506 39 39.088 39h117.48v.153l287.22 185.975a38.877 38.877 0 0 0 25.372 9.355c21.59 0 39.096-17.506 39.096-39.096 0-1.795-.125-3.552-.354-5.27V183.474c.23-1.718.354-3.475.354-5.27 0-21.59-17.506-39.096-39.096-39.096a39.001 39.001 0 0 0-23.683 7.98L218.496 334.61zM757.858 953.49l.086.076C881.82 846.052 960.155 687.434 960.155 510.525c0-177.214-78.603-336.063-202.85-443.616l-.115.114c-4.963-3.817-11.177-6.109-17.925-6.109-16.198 0-29.323 13.133-29.323 29.322a29.188 29.188 0 0 0 6.109 17.926l-.334.343c.822.706 1.642 1.394 2.462 2.12a30.126 30.126 0 0 0 3.818 3.321c110.055 96.71 179.514 238.55 179.514 396.578 0 158.028-69.46 299.867-179.514 396.578a30.126 30.126 0 0 0-3.818 3.321c-.6.533-1.212 1.05-1.822 1.565l.229.23a29.193 29.193 0 0 0-6.643 18.594c0 16.188 13.125 29.321 29.323 29.321a29.163 29.163 0 0 0 18.592-6.642zm-43.86-224.137.239.248c55.38-56.43 89.532-133.765 89.532-219.078 0-85.409-34.229-162.8-89.704-219.25l-.269.268a29.262 29.262 0 0 0-17.543-5.822c-16.198 0-29.323 13.134-29.323 29.322a29.224 29.224 0 0 0 5.823 17.545l-.163.17c.774.784 1.547 1.585 2.31 2.387.076.077.153.172.24.249 43.362 45.587 69.983 107.248 69.983 175.132 0 67.885-26.621 129.545-69.984 175.132-.086.078-.163.172-.238.248-.706.746-1.423 1.471-2.14 2.214l.145.134a29.23 29.23 0 0 0-5.976 17.755c0 16.188 13.125 29.321 29.323 29.321 6.673 0 12.82-2.215 17.745-5.975z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-zhankai"><path d="M753.6 611.52a32 32 0 1 1 28.8 56.96l-256 128a32 32 0 0 1-28.8 0l-256-128a32 32 0 0 1 28.8-56.96L512 732.16zm0-288a32 32 0 1 1 28.8 56.96l-256 128a32 32 0 0 1-28.8 0l-256-128a32 32 0 1 1 28.8-56.96L512 444.16z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-zhankai1"><path d="M720.896 737.28c-10.24 0-20.992-4.096-29.184-11.776-15.872-15.872-15.872-41.984 0-57.856l173.056-173.056-173.056-173.056c-15.872-15.872-15.872-41.984 0-57.856s41.984-15.872 57.856 0l202.24 202.24c15.872 15.872 15.872 41.984 0 57.856l-202.24 202.24c-8.192 7.168-18.432 11.264-28.672 11.264zm202.24-600.576h-819.2c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h819.2c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96zm0 827.392h-819.2c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h819.2c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96zm-460.8-275.968h-358.4c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h358.4c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96zm0-275.456h-358.4c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h358.4c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-zhizhang10"><path d="m263.825 266.207-11.658-10.775-4.203-.212c.967.324 16.511 18.699 16.511 18.699l23.647-23.084h-4.538l-19.759 15.372zM849.61 47.127H206.864c-24.576 0-46.021 19.999-46.021 44.576v803.39c0 28.017 17.971 48.354 40.74 48.354h651.868c25.504 0 40.741-24.588 40.741-48.354V91.702c.004-24.576-19.995-44.576-44.583-44.576zm17.426 847.964c0 10.192-5.186 21.187-13.58 21.187h-651.87c-8.846 0-13.58-12.99-13.58-21.187V91.701c0-9.601 9.257-17.413 18.86-17.413h642.743c9.615 0 17.426 7.812 17.426 17.414V895.09zM310.23 277.989h122.226c7.506 0 13.58-6.08 13.58-13.574 0-7.5-6.074-13.58-13.58-13.58H310.23c-7.506 0-13.58 6.08-13.58 13.58 0 7.494 6.074 13.574 13.58 13.574zm488.902-27.154H473.198c-7.507 0-13.58 6.08-13.58 13.58 0 7.493 6.074 13.574 13.58 13.574h325.935c7.506 0 13.58-6.08 13.58-13.574 0-7.499-6.075-13.58-13.581-13.58zM425.175 481.706c7.506 0 13.58-6.08 13.58-13.58 0-7.506-6.074-13.58-13.58-13.58H313.957c-7.507 0-13.58 6.075-13.58 13.58 0 7.5 6.074 13.58 13.58 13.58h111.218zm363.904 0c7.506 0 13.58-6.08 13.58-13.58 0-7.506-6.075-13.58-13.58-13.58H473.61c-7.507 0-13.58 6.075-13.58 13.58 0 7.5 6.075 13.58 13.58 13.58h315.47zM435.03 698.995H323.81c-7.506 0-13.58 6.08-13.58 13.58 0 7.499 6.075 13.58 13.58 13.58h111.218c7.507 0 13.58-6.08 13.58-13.58 0-7.499-6.073-13.58-13.58-13.58zm364.103 0H483.449c-7.508 0-13.58 6.08-13.58 13.58 0 7.499 6.075 13.58 13.58 13.58h315.682c7.506 0 13.58-6.08 13.58-13.58.001-7.499-6.073-13.58-13.579-13.58zm-535.307 14.88-11.658-11.016-4.203-.33c.967.324 16.511 19.124 16.511 19.124l23.647-22.66h-4.538l-19.759 14.882z" /></symbol>',t.insertBefore(n,t.firstChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const nt="modulepreload",rt=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},Se={},y=function(t,n,o){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=rt(a,o),a in Se)return;Se[a]=!0;const r=a.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(!!o)for(let w=s.length-1;w>=0;w--){const I=s[w];if(I.href===a&&(!r||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const f=document.createElement("link");if(f.rel=r?"stylesheet":nt,r||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),r)return new Promise((w,I)=>{f.addEventListener("load",w),f.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};const S=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},st={},at=e=>(de("data-v-97590295"),e=e(),ue(),e),it={class:"loading-icon"},lt=at(()=>d("div",{class:"loading"},[d("div"),d("div")],-1)),ct=[lt];function dt(e,t){return c(),h("div",it,ct)}const N=S(st,[["render",dt],["__scopeId","data-v-97590295"]]),ut={namespaced:!0,state:()=>({mobileMode:!1,darkMode:!1,offlineModeOnly:!1,openGreatOldOneGate:!1,temporaryPublicKey:"",routeLoading:null}),mutations:{setMode(e,t){for(const n in t)e[n]=t[n]},swtichMode(e,t){e[t]=!e[t]},setValue(e,t){for(const n in t)e[n]=t[n]}},getters:{isGreatOldOne(e,t,n){return!!n.LocalStorage.accessKey&&Date.now()<n.LocalStorage.accessExp}},actions:{}};function se(){const e=De();return{...Object.keys(e.state.AppInfo).reduce((t,n)=>(t[n]=z({get:()=>e.state.AppInfo[n],set:o=>{e.commit("AppInfo/setMode",{[n]:o})}}),t),{}),isGreatOldOne:z(()=>e.getters["AppInfo/isGreatOldOne"])}}function fe(){const{darkMode:e}=se(),t=Be();return{pageTitle:z(()=>t.meta[e.value?"darkTitle":"title"]??t.meta.title??"冰茶的糖果罐"),fullscreen:z(()=>!!t.meta.fullscreen)}}function ae(e,t){const n={},o=je(e);for(const s in o){const a=b(o[s].value);X(o[s],r=>{a.value=r}),n[`computed${s.slice(0,1).toUpperCase()}${s.slice(1)}`]=z({get:()=>a.value,set:r=>{t(`update:${s}`,r),a.value=r}})}return n}const He=function(e,t){let n;typeof e.confirmHandlerPromise=="function"&&(n=async(s,a,r)=>{if(s==="confirm"){a.confirmButtonLoading=!0;try{await e.confirmHandlerPromise(a),r()}catch(i){a.confirmButtonLoading=!1,e.errorHanlder?e.errorHanlder(i):console.error(i)}finally{a.confirmButtonLoading=!1}}else a.confirmButtonLoading||r()});let o=e.message;return typeof e.message=="string"&&(o=Le("div",null,e.message.split(`
`).map(s=>Le("p",null,s)))),et.prompt("",{beforeClose:n,showCancelButton:e.beforeClose||e.confirmHandlerPromise,confirmButtonText:"确认",cancelButtonText:"取消",closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1,showInput:!1,...e,message:o},t).catch(s=>{if(s!=="cancel")throw s})},mt={install:(e,t)=>{e.config.globalProperties.$alert=He}},pt=He;const ht={components:{LoadingIcon:N},props:{type:{type:String,default:()=>"default"},disabled:{type:Boolean,default:()=>!1},loading:{type:Boolean,default:()=>!1},onLoadingClick:{type:Function,default:void 0},confirm:{type:[Object,Boolean],default:void 0},size:{type:String,default:()=>"normal"},upload:{type:Boolean,default:()=>!1}},emits:["click","update:loading"],setup(e,{emit:t}){const n=b(!0),{computedLoading:o}=ae(e,t);return{computedLoading:o,refreshUploadFlag:n}},methods:{refreshUpload(){this.refreshUploadFlag=!1,this.$nextTick(()=>{this.refreshUploadFlag=!0})},_onClick(e){var t;if(!(this.computedLoading||this.disabled))if(this.confirm!==void 0?this.confirm:this.type==="danger"){const n=o=>!!o;pt({title:"提示",message:"确认执行操作?",type:"warning",confirmHandlerPromise:o=>this.do({instance:o,files:e}),inputValidator:(t=this.confirm)!=null&&t.showInput?n:void 0,inputErrorMessage:"请输入内容",...this.confirm??{}})}else this.do({files:e})},do(e){if(typeof this.onLoadingClick=="function"){const t=this.onLoadingClick(e);if(t instanceof Promise)return this.computedLoading=!0,t.finally(()=>{this.computedLoading=!1})}this.$emit("click")}}};function ft(e,t,n,o,s,a){const r=v("LoadingIcon");return c(),h("div",{class:M(["button async-button",{loading:o.computedLoading,disabled:n.disabled,[n.type]:!0,[n.size]:!0}]),onClick:t[1]||(t[1]=E(()=>{n.upload||a._onClick()},["stop"]))},[We(e.$slots,"default",{},void 0,!0),n.upload&&o.refreshUploadFlag?(c(),h("input",{key:0,class:"uploader",type:"file",onChange:t[0]||(t[0]=i=>{a._onClick(i.target.files),a.refreshUpload()})},null,32)):g("",!0),o.computedLoading?(c(),_(r,{key:1,class:M({black:n.type==="primary"})},null,8,["class"])):g("",!0)],2)}const ze=S(ht,[["render",ft],["__scopeId","data-v-4ba533b2"]]);const gt={name:"SvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:""}},setup(e){return{symbolId:z(()=>`#${e.prefix}-${e.name}`)}}},_t=["xlink:href","fill"];function vt(e,t,n,o,s,a){return c(),h("svg",{class:M(["icon",`icon-${n.name}`]),"aria-hidden":"true"},[d("use",{"xlink:href":o.symbolId,class:M({inheritFill:!n.color}),fill:n.color},null,10,_t)],2)}const ge=S(gt,[["render",vt],["__scopeId","data-v-a286f1d8"]]);function yt(e,t=0){let n,o,s;return(...a)=>(n&&clearTimeout(n),o||(o=new Promise(r=>{s=r})),n=setTimeout(()=>{s(e(...a)),n=null,o=null,s=null},t),o)}function mn(e,t="yyyy-MM-dd HH:mm:ss"){if(!e)return"";const n=function(s){return`${s<10?"0":""}${s}`},o=new Date(e);if(isNaN(o.valueOf()))throw new Error(`${e} is Invalid Date`);return t.replace(/yyyy|MM|M|dd|d|HH|H|mm|m|ss|s|DD|NDD|UTC/g,s=>{switch(s){case"yyyy":return n(o.getFullYear());case"MM":return n(o.getMonth()+1);case"M":return String(o.getMonth()+1);case"mm":return n(o.getMinutes());case"m":return String(o.getMinutes());case"dd":return n(o.getDate());case"d":return String(o.getDate());case"HH":return n(o.getHours());case"H":return String(o.getHours());case"ss":return n(o.getSeconds());case"s":return String(o.getSeconds());case"DD":switch(o.getDay()){case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";case 0:return"周日";default:return String(o.getDay())}case"NDD":switch(o.getDay()){case 1:return"月曜日";case 2:return"火曜日";case 3:return"水曜日";case 4:return"木曜日";case 5:return"金曜日";case 6:return"土曜日";case 0:return"日曜日";default:return""}case"UTC":return`UTC+${0-o.getTimezoneOffset()/60}`;default:return""}})}function pn(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}function Ae(){let e;document.documentElement.scrollTop?e=document.documentElement:e=document.body;let t=!1;const n=()=>{t=!0};window.addEventListener("wheel",n),window.addEventListener("touchstart",n);const o=()=>{setTimeout(()=>{e.scrollTop>0&&!t?(e.scrollTop=e.scrollTop-e.scrollTop/10,o()):(window.removeEventListener("wheel",n),window.removeEventListener("touchstart",n))},1)};o()}function bt(e,...t){return typeof e=="function"?e(t):e}function wt(e,t=[],...n){const o={...e};for(const s in e)t.includes(s)||(o[s]=bt(e[s]));return o}function hn(e,t=0){return Promise.all([e,new Promise(n=>{setTimeout(()=>{n()},t)})]).then(n=>n[0])}function fn(e){for(const t of Object.keys(e))delete e[t]}const kt={components:{SvgIcon:ge,LoadingIcon:N},props:{modelValue:{type:String,default:()=>""},type:{type:String,default:()=>"input"},loading:{type:Boolean,default:()=>!1},border:{type:Boolean,default:()=>!1},disabled:{type:Boolean,default:()=>!1},onInput:{type:Function,default:null},showIcon:{type:Boolean,default:()=>!0},placeholder:{type:String,default:()=>""}},setup(e,{emit:t}){const{computedModelValue:n,computedDisabled:o,computedLoading:s}=ae(e,t),a=yt(()=>{try{s.value=!0;const r=e.onInput(n.value);r instanceof Promise?r.finally(()=>{s.value=!1}):s.value=!1}catch{s.value=!1}},500);return X(n,a),{computedModelValue:n,computedDisabled:o,computedLoading:s,debounceHanlder:a}}},Lt={class:"text-input"},xt=["type","disabled","placeholder"],Mt={key:0,class:"icon-box"};function St(e,t,n,o,s,a){const r=v("LoadingIcon"),i=v("SvgIcon");return c(),h("div",Lt,[Y(d("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.computedModelValue=l),class:M(["input",{border:n.border,"show-icon":n.showIcon}]),type:n.type,disabled:o.computedDisabled,placeholder:n.placeholder},null,10,xt),[[Ke,o.computedModelValue]]),n.showIcon?(c(),h("div",Mt,[o.computedLoading?(c(),_(r,{key:0})):o.computedModelValue?(c(),_(i,{key:1,name:"close",onClick:t[1]||(t[1]=()=>{o.computedModelValue="",o.debounceHanlder()})})):g("",!0)])):g("",!0)])}const It=S(kt,[["render",St],["__scopeId","data-v-39445e66"]]);const Vt={name:"AsyncSwitch",components:{LoadingIcon:N},props:{modelValue:{type:Boolean,default:()=>!1},disabled:{type:Boolean,default:()=>!1},loading:{type:Boolean,default:()=>!1},onLoadingClick:{type:Function,default:void 0}},emits:["update:modelValue","update:loading"],setup(e,{emit:t}){const{computedLoading:n}=ae(e,t);return{computedLoading:n}},methods:{_onClick(){if(!(this.computedLoading||this.disabled))if(typeof this.onLoadingClick=="function"){const e=!this.modelValue,t=this.onLoadingClick(e);t instanceof Promise?(this.computedLoading=!0,t.then(()=>{this.$emit("update:modelValue",e)}).catch(n=>{n!==!1&&console.error(n)}).finally(()=>{this.computedLoading=!1})):this.$emit("update:modelValue",!this.modelValue)}else this.$emit("update:modelValue",!this.modelValue)}}},Ot={class:"bg"};function Dt(e,t,n,o,s,a){const r=v("LoadingIcon");return c(),h("div",{class:M(["switch-button",{disabled:n.disabled,loading:o.computedLoading}]),onClick:t[0]||(t[0]=E((...i)=>a._onClick&&a._onClick(...i),["stop"]))},[d("div",Ot,[d("div",{class:"shadow",style:A({width:n.modelValue?"100%":"0"})},null,4)]),d("div",{class:"button",style:A({left:n.modelValue?30+"px":0})},[o.computedLoading?(c(),_(r,{key:0})):g("",!0)],4)],2)}const Bt=S(Vt,[["render",Dt],["__scopeId","data-v-9fbe96fa"]]),Tt={mounted(e,t,n,o){const s=document.createElement("div");s.classList.add("mask"),t.value&&s.classList.add("show"),e.parentNode.insertBefore(s,e),e.maskDom=s,s.addEventListener("click",()=>{e.dispatchEvent(new Event("mask-click"))})},beforeUpdate(e,t,n,o){e.maskDom&&(t.value?e.maskDom.classList.add("show"):e.maskDom.classList.remove("show"))},beforeUnmount(e,t,n,o){e.maskDom&&e.maskDom.remove()}},ce={handler(e,t,n,o){if(t.value){if(e.classList.add("fade-enter"),e.fadeEnterSrc===e.src)return;e.fadeEnterSrc=e.src,t.arg?(e.delayTimer&&clearTimeout(e.delayTimer),e.delayTimer=setTimeout(()=>{e.delayTimer=null,e.complete&&e.classList.remove("important-display-none")},t.arg),e.classList.add("important-display-none")):e.complete||e.classList.add("important-display-none"),e.imgFadeEnterListener=()=>{(e.delayTimer===null||!t.arg)&&e.classList.remove("important-display-none")},e.addEventListener("load",e.imgFadeEnterListener)}else e.imgFadeEnterListener&&e.removeEventListener("load",e.imgFadeEnterListener)},beforeMount(e,t,n,o){ce.handler(e,t,n,o)},updated(e,t,n,o){ce.handler(e,t,n,o)},unmounted(e,t,n,o){e.imgFadeEnterListener&&e.removeEventListener("load",e.imgFadeEnterListener)}},gn=(e,t)=>{typeof e.innerHTML=="string"?e.innerHTML=t.value:e.data.domProps={innerHTML:t.value}};function Et(e,t){if(!e)return"";try{const n=new TextEncoder,o=n.encode(t),s=n.encode(e),a=o.length<2?2:o.length;for(let r=0;r<s.length;r++){const i=o.length>0?o[r%o.length]:0;s[r]+=r%a+i}return s.toString()}catch{return""}}function Ct(e,t){if(!e)return"";try{const n=new TextDecoder,s=new TextEncoder().encode(t),a=e.split(","),r=new Uint8Array(a),i=s.length<2?2:s.length;for(let l=0;l<r.length;l++){const f=s.length>0?s[l%s.length]:0;r[l]-=l%i+f}return n.decode(r)}catch{return""}}function ne(e){if(!e)return"";try{const t=new TextDecoder,n=e.split("x"),o=new Uint8Array(n);return t.decode(o)}catch{return""}}const _e=5,Ht={namespaced:!0,state:()=>zt(),mutations:{setItem(e,t){for(const n in t)e[n]=t[n];$e(e)}},actions:{}};function ve(){return{version:_e,isExpiredGreatOldOne:!1,darkModeDecodeKey:"",devMode:!1,offlineMode:!1,accessKey:"",accessExp:0,usernameCache:"",emoteHistory:[],uuid:Re()}}function zt(){try{const e=JSON.parse(Ct(localStorage.getItem("storage")||"","localstorage"))||{};return e.version!==_e?Pe(e):e}catch(e){return console.error(e),ve()}}function Pe(e){switch(e.version){case 4:{e.uuid=Re();break}default:return ve()}return e.version++,e.version<_e?Pe(e):($e(e),e)}function $e(e){localStorage.setItem("storage",Et(JSON.stringify(e),"localstorage"))}function Ge(){const e=De();return Object.keys(ve()).reduce((t,n)=>(t[n]=z({get:()=>e.state.LocalStorage[n],set:o=>{e.commit("LocalStorage/setItem",{[n]:o})}}),t),{})}function Re(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxs".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}).replace(/s/,(e,t,n)=>{const o=n.split("").reduce((s,a)=>/\d/.test(a)?s+Number(a):s,0).toString();return o.slice(o.length-1,o.length)})}const At="https://kooritea.moe/assets/kurenai.jpg";const Pt={name:"GlobalNav",components:{SvgIcon:ge,AsyncSwitch:Bt,LoadingIcon:N,TextInput:It,AsyncButtom:ze},directives:{mask:Tt,imgFadeEnter:ce},setup(){const{routeLoading:e,darkMode:t,mobileMode:n,offlineModeOnly:o,openGreatOldOneGate:s}=se(),{isExpiredGreatOldOne:a,offlineMode:r,devMode:i,darkModeDecodeKey:l}=Ge(),{pageTitle:f,fullscreen:w}=fe(),I=b(""),H=b(!0),u=()=>{const Q=document.documentElement.scrollTop||document.body.scrollTop,le=Math.min(10,Q/10);I.value=`${Me(t)?"#ddd":"#222"} 0 0 ${le}px`,H.value=Q>50&&!!Me(f)};Te(()=>{window.addEventListener("scroll",u),u()}),Ee(()=>{window.removeEventListener("scroll",u)});let p=null,O=0;const W=()=>{O++,O>10&&(s.value=!0),p&&clearTimeout(p),p=setTimeout(()=>{O=0,p=null},1e3)},J=b(!1),R=Be();X(()=>R.fullPath,()=>{J.value=!1});const ie=b(!1);let Z=null;return{mobileMode:n,offlineModeOnly:o,isExpiredGreatOldOne:a,offlineMode:r,devMode:i,tryOpenGreatOldOneGate:W,openGreatOldOneGate:s,navShadow:I,showPageTitle:H,pageTitle:f,openMenu:J,routeLoading:e,darkMode:t,darkModeDecodeKey:l,setDarkModeDecodeKeyDialog:ie,closeSetDarkModeDecodeKeyDialog:()=>{ie.value=!1,typeof Z=="function"&&(Z(),Z=null)},onSwitchDarkMode:Q=>{if(Q&&!l.value)return ie.value=!0,new Promise(le=>{Z=le})},fullscreen:w,setScorllGotoTop:Ae}}},P=e=>(de("data-v-795337ba"),e=e(),ue(),e),$t={key:0,class:"mobile-menu-title"},Gt={class:"route-box"},Rt=P(()=>d("span",{class:"text"},"随笔",-1)),Ut=P(()=>d("span",{class:"text"},"番剧",-1)),Ft=P(()=>d("span",{class:"text"},"老婆",-1)),Nt=P(()=>d("span",{class:"text"},"后台",-1)),jt={class:"text"},Wt={class:"switch-box"},Kt=P(()=>d("span",{class:"text"},"深色模式",-1)),Yt=P(()=>d("span",{class:"text"},"离线模式",-1)),Xt={key:0},qt=P(()=>d("span",{class:"text"},"开发模式",-1)),Jt={key:1,class:"dark-entry"},Zt={class:"image",src:At},Qt={class:"text"},eo=P(()=>d("span",{class:"kurenai"},"如月红",-1)),to={class:"button-box"};function oo(e,t,n,o,s,a){const r=v("router-link"),i=v("SvgIcon"),l=v("LoadingIcon"),f=v("AsyncSwitch"),w=v("TextInput"),I=v("AsyncButtom"),H=xe("mask"),u=xe("imgFadeEnter");return c(),h("nav",{class:M({fullscreen:o.fullscreen}),style:A({boxShadow:o.navShadow,fullscreen:o.fullscreen})},[d("div",{class:"logo",style:A({top:o.showPageTitle&&!o.fullscreen?"-100%":"0%"})},[d("div",{class:"slogan",onClick:t[0]||(t[0]=(...p)=>o.tryOpenGreatOldOneGate&&o.tryOpenGreatOldOneGate(...p))},[k(r,{to:"/home"},{default:D(()=>[K(" 冰茶的糖果罐 "),d("span",null,B(o.darkMode?"Unhappy Sugar Life":"Happy Sugar Life"),1)]),_:1})]),d("div",{class:"page-title",onClick:t[1]||(t[1]=p=>o.setScorllGotoTop())},B(o.pageTitle),1)],4),o.mobileMode?(c(),h("div",{key:0,class:"menu-icon",onClick:t[2]||(t[2]=p=>o.openMenu=!0)},[k(i,{name:"menu"})])):g("",!0),Y((c(),h("div",{class:M(["menu",{show:o.openMenu&&o.mobileMode}]),onMaskClick:t[7]||(t[7]=p=>o.openMenu=!1)},[o.mobileMode?(c(),h("div",$t," 异国迷宫的十字路口 ")):g("",!0),d("ul",Gt,[k(r,{to:"/chaos"},{default:D(()=>[d("li",null,[Rt,o.routeLoading==="/chaos"?(c(),_(l,{key:0})):g("",!0)])]),_:1}),k(r,{to:"/pastel-memories"},{default:D(()=>[d("li",null,[Ut,o.routeLoading==="/pastel-memories"?(c(),_(l,{key:0})):g("",!0)])]),_:1}),o.darkMode?(c(),_(r,{key:0,to:"/waifu"},{default:D(()=>[d("li",null,[Ft,o.routeLoading==="/waifu"?(c(),_(l,{key:0})):g("",!0)])]),_:1})):g("",!0),o.isExpiredGreatOldOne||o.openGreatOldOneGate?(c(),_(r,{key:1,to:"/great-old-one"},{default:D(()=>[d("li",null,[Nt,["/great-old-one/index","/contract"].includes(o.routeLoading)?(c(),_(l,{key:0})):g("",!0)])]),_:1})):g("",!0),o.darkMode?(c(),h("li",{key:2,onClick:t[3]||(t[3]=p=>o.setDarkModeDecodeKeyDialog=!0)},[d("span",jt,B(o.darkModeDecodeKey?"重置":"设置")+"深色模式媒介 ",1)])):g("",!0)]),d("ul",Wt,[d("li",null,[Kt,k(f,{modelValue:o.darkMode,"onUpdate:modelValue":t[4]||(t[4]=p=>o.darkMode=p),onLoadingClick:o.onSwitchDarkMode},null,8,["modelValue","onLoadingClick"])]),d("li",null,[Yt,o.offlineModeOnly?(c(),_(f,{key:0,"model-value":!0,disabled:!0})):(c(),_(f,{key:1,modelValue:o.offlineMode,"onUpdate:modelValue":t[5]||(t[5]=p=>o.offlineMode=p),disabled:o.offlineModeOnly},null,8,["modelValue","disabled"]))]),o.isExpiredGreatOldOne||o.openGreatOldOneGate?(c(),h("li",Xt,[qt,k(f,{modelValue:o.devMode,"onUpdate:modelValue":t[6]||(t[6]=p=>o.devMode=p)},null,8,["modelValue"])])):g("",!0)])],34)),[[H,o.openMenu&&o.mobileMode]]),o.setDarkModeDecodeKeyDialog?Y((c(),h("div",Jt,[Y(d("img",Zt,null,512),[[u]]),d("div",Qt,[eo,K("身上如同 "),k(w,{modelValue:o.darkModeDecodeKey,"onUpdate:modelValue":t[8]||(t[8]=p=>o.darkModeDecodeKey=p),"show-icon":!1},null,8,["modelValue"]),K(" 的诅咒试图理解人心? ")]),d("div",to,[k(I,{type:o.darkModeDecodeKey?"primary":"info",onClick:o.closeSetDarkModeDecodeKeyDialog},{default:D(()=>[K(B(o.darkModeDecodeKey?"确认":"忽略"),1)]),_:1},8,["type","onClick"])])])),[[H,!0]]):g("",!0)],6)}const Ue=S(Pt,[["render",oo],["__scopeId","data-v-795337ba"]]);const no={components:{SvgIcon:ge},setup(){return{messageList:Ce([])}},methods:{open({msg:e,type:t,duration:n=3e3}){const o={msg:e,type:t,cancel:!1,active:!0,key:String(Date.now())};n&&setTimeout(()=>{o.cancel=!0,this.$forceUpdate(),setTimeout(()=>{this.messageList.splice(this.messageList.indexOf(o),1)},200)},n),setTimeout(()=>{o.active=!1,this.$forceUpdate()},200),this.messageList.push(o)}}},ro={class:"msg-box"},so={class:"msg"};function ao(e,t,n,o,s,a){const r=v("SvgIcon");return c(),h("div",ro,[d("ul",null,[(c(!0),h(G,null,q(o.messageList,i=>(c(),h("li",{key:i.key,class:M({[i.type]:!0,cancel:i.cancel,active:i.active})},[k(r,{name:"info-circle"}),d("div",so,[(c(!0),h(G,null,q(i.msg.split(`
`),l=>(c(),h("div",{key:l,class:"line"},B(l),1))),128))])],2))),128))])])}const io=S(no,[["render",ao],["__scopeId","data-v-61ec490d"]]);let ee=null;const T=e=>(ee||(ee=me(io).mount("#msg-box")),ee.open(e),ee);T.success=function(e,t){T({msg:e,type:"success",...t})};T.error=function(e,t){T({msg:e,type:"error",...t})};T.info=function(e,t){T({msg:e,type:"info",...t})};T.warning=function(e,t){T({msg:e,type:"warning",...t})};const lo={install:(e,t)=>{e.config.globalProperties.$msgBox=T}},V=T,x=Ye({strict:!1,modules:{AppInfo:ut,LocalStorage:Ht}}),ye=pe.create({baseURL:"https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/database"});ye.interceptors.request.use(e=>(e.apiMode="offline",e.params={...e.params,ts:Date.now()},e),e=>(console.log(e),Promise.reject(e)));ye.interceptors.response.use(e=>e.data,e=>{V.error(e.message),console.error(e);const t=e.config.url.indexOf("?")>-1?e.config.url.slice(0,e.config.url.indexOf("?")):e.config.url;throw delete re[t],e});const re={},Ie=function(e){const t=e.url.indexOf("?")>-1?e.url.slice(0,e.url.indexOf("?")):e.url;return re[t]||(re[t]=ye(e)),re[t].then(n=>JSON.parse(JSON.stringify(n)))},F=pe.create();F.interceptors.request.use(e=>{const{devMode:t,accessKey:n,darkModeDecodeKey:o,uuid:s}=x.state.LocalStorage;if(e.apiMode=t?"dev":"online",e.baseURL=t?"http://127.0.0.1:7004":"https://api.kooritea.moe",e.headers||(e.headers={}),n&&(e.headers["mass-controler-fingerprint"]=n),o&&(e.headers["mass-controler-fingerprint-dark"]=o),e.headers["mass-controler-uuid"]=s,document.referrer&&(e.headers.Referrer=document.referrer),e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){const a=Object.keys(e.data).reduce((r,i)=>(e.data[i]!==void 0&&(r[i]=e.data[i]),r),{});switch(e.requestType){case"urlencode":{e.data=Object.keys(a).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(a[r])}`).join("&");break}case"formdata":{const r=new FormData;for(const i in a)if(Array.isArray(a[i]))for(const l of a[i])r.append(i,l);else typeof a[i]=="object"&&!(a[i]instanceof File)?r.append(i,JSON.stringify(a[i])):r.append(i,a[i]);e.data=r;break}}}for(const a in e.params)String(e.params[a])||delete e.params[a];return e.headers["Local-Timestamp"]=Date.now()-new Date().getTimezoneOffset()*60*1e3,e},e=>(console.log(e),Promise.reject(e)));F.interceptors.response.use(e=>{const t=e.data;if(e.config.useRawResponse||t instanceof Blob)return t;const{code:n,data:o,errorMsg:s}=t;if(n===4032){const a=new Error(`需要刷新页面: ${s}`);throw a.code=4032,a}if(n!==0){const a=s||"业务出错",r=new Error(a);throw r.response=e,e.config.errMsg!==!1&&V.error(s),r}return o},e=>{var t,n,o,s,a,r,i;if(e.config.errMsg!==!1){let l=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.errorMsg)||e.message;if(((a=(s=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:s.errors)==null?void 0:a.length)>0){l="";for(const f of((i=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:i.errors)||[])l+=Object.keys(f.constraints).map(w=>`[${f.property}]: ${f.constraints[w]}`).join(`
`),l+=`
`}V.error(l)}throw console.error(e),e});const $={dev:null,online:null};function Ve(e){return e&&!$.dev&&($.dev=F({apiMode:"dev",url:"/user/knock",method:"post",errMsg:!1}).then(t=>{x.commit("AppInfo/setValue",{temporaryPublicKey:t.publicKey})}).catch(t=>{throw V.warning("无法访问在线服务器，正在使用离线模式"),t})),!e&&!$.online&&($.online=F({apiMode:"online",url:"/user/knock",method:"post",errMsg:!1}).then(t=>{x.commit("AppInfo/setValue",{temporaryPublicKey:t.publicKey})}).catch(t=>{throw V.warning("无法访问在线服务器，正在使用离线模式"),t})),$[e?"dev":"online"]}async function C(){const{offlineMode:e,devMode:t}=x.state.LocalStorage;return e?{onlineMode:!1,request:Ie}:Ve(t).then(()=>({onlineMode:!0,request:n=>F(n).catch(o=>{if(o.code===4032)return $.dev=null,$.online=null,Ve(t).then(()=>F(n));throw o})})).catch(n=>(x.commit("AppInfo/setMode",{offlineModeOnly:!0}),{onlineMode:!1,request:Ie}))}const be=pe.create();be.interceptors.request.use(e=>{if(e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){const t=Object.keys(e.data).reduce((n,o)=>(e.data[o]!==void 0&&(n[o]=e.data[o]),n),{});switch(e.requestType){case"urlencode":{e.data=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&");break}case"formdata":{const n=new FormData;for(const o in t)if(Array.isArray(t[o]))for(const s of t[o])n.append(o,s);else typeof t[o]=="object"&&!(t[o]instanceof File)?n.append(o,JSON.stringify(t[o])):n.append(o,t[o]);e.data=n;break}}}for(const t in e.params)String(e.params[t])||delete e.params[t];return e},e=>(console.log(e),Promise.reject(e)));be.interceptors.response.use(e=>e.data,e=>{throw V.error(e.message),console.error(e),e});function _n(e){return C().then(({onlineMode:t,request:n})=>t?n({method:"get",url:"/blog/hitokoto/random",params:{exclude:e.join(",")}}):n({method:"get",url:"/blog/hitokoto/data"}).then(o=>{const s=o.filter(a=>o.length===1||e.length===o.length||!e.includes(a.id));return s[Math.floor(Math.random()*s.length)]}))}function co(){return C().then(({onlineMode:e,request:t})=>t(e?{method:"get",url:"/blog/link"}:{method:"get",url:"/blog/link/data"}))}function vn({start:e,keyword:t}={}){return C().then(({onlineMode:n,request:o})=>{if(n)return/^#\d+$/.test(t)?o({method:"get",url:`/blog/essay/${t.slice(1)}`}).then(s=>[s]):o({method:"get",url:"/blog/essay",params:{start:e,keyword:t}});if(t){if(!/^#\d+$/.test(t))throw new Error("离线模式下仅可以使用[#id]形式检索");return o({url:`/blog/essay/${t.slice(1)}`}).then(s=>(s.content=ne(s.content),[s]))}else return o({url:"/blog/essay/index"}).then(s=>{const a=s.reverse();if(e){const r=a.indexOf(Number(e));return Promise.all(a.slice(r,r+10).map(i=>o({url:`/blog/essay/${i}`}).then(l=>(l.content=ne(l.content),l))))}else return Promise.all(a.slice(0,10).map(r=>o({url:`/blog/essay/${r}`}).then(i=>(i.content=ne(i.content),i))))})})}function yn({id:e}={}){return C().then(({onlineMode:t,request:n})=>t?n({method:"get",url:`/blog/essay/${e}`}):n({method:"get",url:`/blog/essay/${e}`}).then(o=>(o.content=ne(o.content),o)))}function bn(){return C().then(({onlineMode:e,request:t})=>t(e?{method:"get",url:"/blog/bangumi"}:{method:"get",url:"/blog/bangumi/data"}))}function wn(e){return C().then(({onlineMode:t,request:n})=>{const o=t?n:be;return o({url:t?"/api/netease-cloud-music/public/song/detail":"https://netease-cloud-music-api-ashen-pi-45.vercel.app/song/detail",params:{ids:e,realIP:"116.25.146.177"}}).then(s=>{const a=t?s:s==null?void 0:s.songs;if(a.length>0)return{picUrl:a[0].al.picUrl,name:a[0].name,singer:a[0].ar.map(r=>r.name).join("/"),id:e,getPlayUrl:()=>o({url:t?"/api/netease-cloud-music/public/song/url":"https://netease-cloud-music-api-ashen-pi-45.vercel.app/song/url",params:{id:e,realIP:"116.25.146.177"}}).then(r=>{var i,l;return t?r:(l=(i=r==null?void 0:r.data)==null?void 0:i[0])==null?void 0:l.url})};throw new Error(`没有找到对应的音乐: ${e}`)})})}function uo(){return C().then(({onlineMode:e,request:t})=>e?t({method:"get",url:"/system/version",useRawResponse:!0}):"Offline")}function kn(){return C().then(({onlineMode:e,request:t})=>t(e?{method:"get",url:"/blog/waifu"}:{method:"get",url:"/blog/waifu/data"}))}const mo=[{name:"人理存续保障机构 菲尼斯·迦勒底",href:"https://www.fate-go.jp",title:"非的干不过欧的"},{name:"白もち桜应援团",href:"https://twitter.com/sakura_siromoti",title:""},{name:"BiLiBiLi( ゜ -゜)つロ 乾杯~",href:"https://www.bilibili.com",title:""},{name:"地球脱出计划",href:"https://kooritea.moe/site-archives/eden/index.html",title:"死にゆく楽園へ、最後のラブストーリー。"},{name:"情低保护协会",href:"",title:"その目だれの目"},{name:"圣芙蕾雅学园",href:"https://www.benghuai.com/",title:"德丽莎世界第一可爱!"},{name:"星之海学园",href:"https://charlotte-anime.jp",title:`即使失去了重要之物，少年仍然直面命运。
即使忘记了重要之人，怪物仍然挑战命运。`},{name:"ミラシュカ王国",href:"https://music.163.com/#/album?id=82096",title:"心も、病気になる"},{name:"传颂星星之人",href:"https://key.visualarts.gr.jp/product/planetarian/hd_edition/",title:"プラネタリウムはいかがですか？決して消えることの無い、無窮のきらめき。"},{name:"美食殿堂",href:"https://game.bilibili.com/pcr/",title:"お腹ぺこぺこ"}],po="20240708-2(b3054644)",ho="https://kooritea.moe/assets/nanami.png",fo="https://kooritea.moe/assets/nanami-hurueru.png";const go={name:"GlobalFooter",setup(){const e=b([]);co().then(o=>{const s=o.filter(i=>i.state===1),a=o.filter(i=>i.state===2),r=[];for(;s.length>0;)r.push(s.splice(Math.random()*s.length,1)[0]);for(;a.length>0;)r.push(a.splice(Math.random()*a.length,1)[0]);e.value=r});const t=b(new Date().getFullYear()),n=b("");return uo().then(o=>{n.value=o}),{setScorllGotoTop:Ae,links:e,year:t,tags:mo,BuildVersion:po,ServerVersion:n}}},we=e=>(de("data-v-ac931321"),e=e(),ue(),e),_o={class:"container"},vo={class:"tag-link-container"},yo={class:"tag-link"},bo={class:"tags"},wo=["title"],ko=["href"],Lo={class:"links"},xo=we(()=>d("div",{class:"links-title"}," 友链 ",-1)),Mo=["title"],So=["href"],Io=we(()=>d("img",{class:"karada",src:ho},null,-1)),Vo=we(()=>d("img",{class:"hurueru",src:fo},null,-1)),Oo=[Io,Vo],Do={class:"statement"},Bo={class:"item",title:"如月"},To=Xe('<div class="item" title="email" data-v-ac931321><a target="_blank" href="mailto:admin@kooritea.moe" data-v-ac931321> admin@kooritea.moe </a></div><div class="item" title="Front end" data-v-ac931321><a target="_blank" href="https://github.com/vuejs/" data-v-ac931321> Page Powered by Vue 3 </a></div><div class="item" title="Back end" data-v-ac931321> Server Powered by Nginx &amp; Nest.js </div><div class="item" title="Static Resources" data-v-ac931321><a target="_blank" href="https://github.com/" data-v-ac931321> Storage Powered by Github Page </a></div><div class="item" title="CDN" data-v-ac931321><a target="_blank" href="https://www.jsdelivr.com/" data-v-ac931321> CDN Powered by jsDelivr </a></div><div class="item" title="萌备" data-v-ac931321><a target="_blank" href="https://icp.gov.moe" data-v-ac931321><img style="width:18px;height:18px;top:3px;position:relative;" src="https://icp.gov.moe/images/ico64.png" data-v-ac931321> 萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20207216" target="_blank" data-v-ac931321> 20207216号 </a></div><div class="item" title="备案" data-v-ac931321> 互联网安备：2333333333号 </div><div class="item" title="" data-v-ac931321><a target="_blank" href="https://automattic.com/cookies/" data-v-ac931321> 本站不使用Cookie，Cookie政策爬 </a></div>',8),Eo={key:0,class:"item",title:"Build Version"},Co={key:1,class:"item",title:"Build Version"};function Ho(e,t,n,o,s,a){return c(),h("footer",null,[d("div",_o,[d("div",vo,[d("div",yo,[d("div",bo,[(c(!0),h(G,null,q(o.tags,r=>(c(),h("div",{key:r.name,class:"tag",title:r.title?r.title:r.href},[d("a",{target:"_blank",href:r.href,style:A({cursor:r.href?"pointer":"default",pointerEvents:r.href?"unset":"none"})},B(r.name),13,ko)],8,wo))),128))]),d("div",Lo,[xo,(c(!0),h(G,null,q(o.links,r=>(c(),h("div",{key:r.name,class:M(["link",{offline:r.state===2}]),title:`${r.state===1?"":"[已失联]"}${r.abstract?r.abstract:r.url}`},[d("a",{target:"_blank",href:r.url,style:A({cursor:r.url?"pointer":"default",pointerEvents:r.url?"unset":"none"})},B(r.name),13,So)],10,Mo))),128))])]),d("div",{class:"nanami",onClick:t[0]||(t[0]=r=>o.setScorllGotoTop())},Oo)]),d("div",Do,[d("div",Bo,B(`© 2016-${o.year} kisaragi`),1),To,o.BuildVersion?(c(),h("div",Eo," Page Build: "+B(o.BuildVersion),1)):g("",!0),o.ServerVersion?(c(),h("div",Co," Server Build: "+B(o.ServerVersion),1)):g("",!0)])])])}const Fe=S(go,[["render",Ho],["__scopeId","data-v-ac931321"]]);const zo={name:"GlobalLayout",components:{GlobalNav:Ue,GlobalFooter:Fe},setup(){const{fullscreen:e}=fe();return{fullscreen:e}}};function Ao(e,t,n,o,s,a){const r=v("GlobalNav"),i=v("router-view"),l=v("GlobalFooter");return c(),h(G,null,[k(r),d("div",{class:M(["route-body",{fullscreen:o.fullscreen}])},[k(i,null,{default:D(({Component:f})=>[e.$route.meta.keepAlive?(c(),_(he,{key:0},[(c(),_(U(f)))],1024)):g("",!0),e.$route.meta.keepAlive?g("",!0):(c(),_(U(f),{key:1}))]),_:1})],2),k(l)],64)}const Po=S(zo,[["render",Ao],["__scopeId","data-v-afeb444b"]]),m=e=>C().then(({onlineMode:t,request:n})=>{if(t)return n(e);throw V.error("正在使用离线模式"),new Error("正在使用离线模式")});function Ln(e,t){return m({url:"/user/login",method:"post",data:{username:e,password:t}})}function xn(){return m({url:"/blog/reservation/essay",method:"get"})}function Mn(e,t,n){return m({url:"/blog/essay",method:"post",data:{content:e,hide:t,reservation:n}})}function Sn(e,t){return m({url:`/blog/essay/${e}`,method:"put",data:t})}function In(e,t){return m({url:`/blog/reservation/essay/${e}`,method:"put",data:t})}function Vn(e){return m({url:"/api/bangumi/bySubjectId",method:"get",params:{subjectId:e}})}function On(e,t){return m({url:"/api/bangumi/byKeyword",method:"get",params:{keyword:e,start:t}})}function Dn(e,t){return m({url:"/api/bangumi/byAirDate",method:"get",params:{airDate:e,page:t}})}function Bn(e){return m({url:"/blog/bangumi",method:"post",data:e})}function Tn(e,t){return m({url:`/blog/bangumi/${e}`,method:"put",data:t})}function En(e){return m({url:`/blog/bangumi/${e}`,method:"delete"})}function Cn(e,t){return m({url:"/static/image",method:"post",requestType:"formdata",onUploadProgress:t,data:{file:e}})}function Hn(e,t){return m({url:"/log",method:"get",params:{continueUUID:e,verbose:t}})}function zn(){return m({url:"/todolist/realtodo",method:"get"})}function An(e,t){return m({url:`/todolist/realtodo/${e}`,method:"put",data:t})}function Pn(){return m({url:"/blog/emote",method:"get"})}function $n(e){return m({url:`/blog/emote/${e}`,method:"get"})}function Gn(e){return m({url:"/blog/emote/bilibili",method:"post",data:{id:e}})}function Rn(e){return m({url:"/api/github/content",method:"get",params:e})}function Un(e){return m({url:"/api/github/blob",method:"post",requestType:"formdata",data:e})}function Fn(e){return m({url:"/api/github/commit",method:"post",data:e})}function Nn(){return m({url:"/analytics",method:"get"})}function jn(){return m({url:"/system",method:"get"})}function Wn(e){return m({url:"/blog/waifu",method:"post",requestType:"formdata",data:e})}function Kn(){return m({url:"/spider/online-device",method:"get"})}function Yn(e){return m({url:"/api/other/mac-info",method:"get",params:{mac:e}})}function Xn(e,t,n){return m({url:`/message/${e}.${t}`,method:"post",data:n})}function qn(e){return m({url:"/blog/bangumi",method:"get",params:{keyword:e}})}function Jn(e){return m({url:"/video/source",method:"get",params:{path:e}})}function Zn(e,t){return m({url:"/video/source/screenshots",method:"get",responseType:"blob",params:{sourcePath:e,timestamps:t}})}function Qn({sourcePath:e,start:t,end:n}){return m({url:"/video/source/material",method:"get",responseType:"blob",params:{sourcePath:e,start:t,end:n}})}function Oe(e){return m({url:`/meta/string/${e}`,method:"get"})}function er(e){return m({url:"/video/material",method:"post",data:e})}function tr(e){return m({url:"/video/material",method:"get",params:e})}function or(e,t){return m({url:`/video/material/${e}`,method:"put",data:t})}const $o={name:"GOOGlobalLayout",components:{GlobalNav:Ue,GlobalFooter:Fe,LoadingIcon:N},setup(){const{mobileMode:e}=se(),t=b(!1),n=qe();if(n){const s=[y(()=>import("./index-3ba4f01e.js"),["https://kooritea.moe/assets/index-3ba4f01e.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/index-8498ca8e.css"],import.meta.url).then(a=>{if(e.value)return y(()=>import("./index-9a3caeae.js"),["https://kooritea.moe/assets/index-9a3caeae.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/index-bc4e039f.css"],import.meta.url).then(r=>{n.appContext.app.use(a.default,{config:{ComponentCover:r.default,BaseOptionsLoader:async i=>Oe(i)}})});n.appContext.app.use(a.default,{config:{BaseOptionsLoader:async r=>Oe(r)}})}),y(()=>import("./element-plus-f8e054a6.js").then(a=>a.o),["https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/element-plus-3d0d713c.css"],import.meta.url),y(()=>import("./element-plus-f8e054a6.js").then(a=>a.n),["https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/element-plus-3d0d713c.css"],import.meta.url).then(a=>{n.appContext.app.use(a.default)})];e.value&&(s.push(y(()=>import("./vendor-cce75f21.js").then(a=>a.dc),["https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css"],import.meta.url).then(a=>{n.appContext.app.use(a.default)})),s.push(y(()=>import("./vendor-cce75f21.js").then(a=>a.dd),["https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css"],import.meta.url))),Promise.all(s).then(()=>{t.value=!0})}const{fullscreen:o}=fe();return{fullscreen:o,isInit:t}}},Go={key:1,class:"loading"};function Ro(e,t,n,o,s,a){const r=v("GlobalNav"),i=v("router-view"),l=v("LoadingIcon"),f=v("GlobalFooter");return c(),h(G,null,[k(r),o.isInit?(c(),h("div",{key:0,class:M(["route-body",{fullscreen:o.fullscreen}])},[k(i,null,{default:D(({Component:w})=>[e.$route.meta.keepAlive?(c(),_(he,{key:0},[(c(),_(U(w)))],1024)):g("",!0),e.$route.meta.keepAlive?g("",!0):(c(),_(U(w),{key:1}))]),_:1})],2)):(c(),h("div",Go,[k(l)])),k(f)],64)}const Uo=S($o,[["render",Ro],["__scopeId","data-v-53865509"]]);function Fo(e,t){const{openGreatOldOneGate:n}=x.state.AppInfo,o=x.getters["AppInfo/isGreatOldOne"],{isExpiredGreatOldOne:s}=x.state.LocalStorage;if(!n&&!o&&!s)return{path:"/"};if(o)return{path:"/great-old-one"}}function No(e,t){if(!x.getters["AppInfo/isGreatOldOne"])return{path:"/contract",query:{redirect:e.fullPath}}}function L(e){return e.catch(t=>{throw V.error(`动态加载组件失败, ${t}`),x.commit("AppInfo/setValue",{routeLoading:null}),t})}const jo=[{path:"/",component:Po,redirect:"/chaos",meta:{keepAlive:!0},children:[{path:"/home",component:()=>L(y(()=>import("./HomePage-921363b4.js"),["https://kooritea.moe/assets/HomePage-921363b4.js","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/HomePage-2111c427.css"],import.meta.url)),meta:{title:"冰茶的糖果罐",fullscreen:!0}},{path:"/chaos",component:()=>L(y(()=>import("./ChaosPage-6875f8b1.js"),["https://kooritea.moe/assets/ChaosPage-6875f8b1.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/NextButton-dbab0839.js","https://kooritea.moe/assets/NextButton-1d646031.css","https://kooritea.moe/assets/MarkDown-491291f4.js","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/MarkDown-1436271d.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/ChaosPage-b0dd1183.css"],import.meta.url)),meta:{title:"试图画出时间的影子",darkTitle:"稍微窥探头脑中的混沌",keepAlive:!0}},{path:"/pastel-memories",component:()=>L(y(()=>import("./BangumiPage-5dc5161c.js"),["https://kooritea.moe/assets/BangumiPage-5dc5161c.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/BangumiPage-12458024.css"],import.meta.url)),meta:{title:"番剧列表",darkTitle:"粉色回忆",keepAlive:!0}},{path:"/waifu",component:()=>L(y(()=>import("./WaifuPage-6af29d5b.js"),["https://kooritea.moe/assets/WaifuPage-6af29d5b.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/NextButton-dbab0839.js","https://kooritea.moe/assets/NextButton-1d646031.css","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/WaifuPage-03e98906.css"],import.meta.url)),meta:{title:"誰でも大好き",darkTitle:"神经病，难道她们不是我老婆吗",keepAlive:!0}},{path:"/contract",component:()=>L(y(()=>import("./ContractPage-8678ec56.js"),["https://kooritea.moe/assets/ContractPage-8678ec56.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/ContractPage-64d59751.css"],import.meta.url)),beforeEnter:[Fo],meta:{title:"Access",darkTitle:"圆环契约",keepAlive:!0}}]},{path:"/great-old-one",component:Uo,redirect:"/great-old-one/index",beforeEnter:[No],children:[{path:"/great-old-one/index",component:()=>L(y(()=>import("./GOOIndexPage-b745f878.js"),["https://kooritea.moe/assets/GOOIndexPage-b745f878.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOOIndexPage-91216c8b.css"],import.meta.url)),meta:{title:"后台管理",darkTitle:"旧日支配者的花园"}},{path:"/great-old-one/chaos",component:()=>L(y(()=>import("./GOOChaosPage-662fe9ca.js"),["https://kooritea.moe/assets/GOOChaosPage-662fe9ca.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/MDEditor-5f17c565.js","https://kooritea.moe/assets/MarkDown-491291f4.js","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/MarkDown-1436271d.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/MDEditor-06264cc7.css","https://kooritea.moe/assets/GOOChaosPage-faf7e6c2.css"],import.meta.url)),meta:{title:"编写随笔",darkTitle:"创造混沌",keepAlive:!0}},{path:"/great-old-one/revelation",component:()=>L(y(()=>import("./GOORevelationPage-55497022.js"),["https://kooritea.moe/assets/GOORevelationPage-55497022.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOORevelationPage-d91eaf07.css"],import.meta.url)),meta:{title:"浏览日志",darkTitle:"启示录"}},{path:"/great-old-one/mabinogion",component:()=>L(y(()=>import("./GOOMabinogionPage-7328467d.js"),["https://kooritea.moe/assets/GOOMabinogionPage-7328467d.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/MarkDown-491291f4.js","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/MarkDown-1436271d.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOOMabinogionPage-6340be8b.css"],import.meta.url)),meta:{title:"处理待办",darkTitle:"黑暗圣典"}},{path:"/great-old-one/deathnote",component:()=>L(y(()=>import("./GOODeathNotePage-0fcc25e5.js"),["https://kooritea.moe/assets/GOODeathNotePage-0fcc25e5.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOODeathNotePage-154ed242.css"],import.meta.url)),meta:{title:"文件管理",darkTitle:"死亡笔记"}},{path:"/great-old-one/pastel-memories",component:()=>L(y(()=>import("./GOOBangumiPage-2c6ee8ef.js"),["https://kooritea.moe/assets/GOOBangumiPage-2c6ee8ef.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/NextButton-dbab0839.js","https://kooritea.moe/assets/NextButton-1d646031.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/GOOBangumiPage-940e767e.css"],import.meta.url)),meta:{title:"番剧管理",darkTitle:"粉色回忆",keepAlive:!0}},{path:"/great-old-one/waifu",component:()=>L(y(()=>import("./GOOWaifuPage-ef4c8440.js"),["https://kooritea.moe/assets/GOOWaifuPage-ef4c8440.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOOWaifuPage-a4b24a70.css"],import.meta.url)),meta:{title:"waifu管理",darkTitle:"waifu管理",keepAlive:!0}},{path:"/great-old-one/analytics",component:()=>L(y(()=>import("./GOOAnalyticsPage-9ff9e49f.js"),["https://kooritea.moe/assets/GOOAnalyticsPage-9ff9e49f.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/echarts-5661a266.js","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOOAnalyticsPage-248c0512.css"],import.meta.url)),meta:{title:"分析统计",darkTitle:"分析统计"}},{path:"/great-old-one/online-device",component:()=>L(y(()=>import("./GOOOnlineDevice-dfc41b47.js"),["https://kooritea.moe/assets/GOOOnlineDevice-dfc41b47.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOOOnlineDevice-51cf5476.css"],import.meta.url)),meta:{title:"在线设备",darkTitle:"在线设备"}},{path:"/great-old-one/mpush",component:()=>L(y(()=>import("./GOOMpushPage-9ef528de.js"),["https://kooritea.moe/assets/GOOMpushPage-9ef528de.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/MDEditor-5f17c565.js","https://kooritea.moe/assets/MarkDown-491291f4.js","https://kooritea.moe/assets/ImageCon-06f48c48.js","https://kooritea.moe/assets/ImageCon-b92f02bb.css","https://kooritea.moe/assets/MarkDown-1436271d.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/MDEditor-06264cc7.css","https://kooritea.moe/assets/GOOMpushPage-8601210e.css"],import.meta.url)),meta:{title:"消息推送",darkTitle:"消息推送",keepAlive:!0}},{path:"/great-old-one/ryona",component:()=>L(y(()=>import("./GOORyonaPage-c22d6251.js"),["https://kooritea.moe/assets/GOORyonaPage-c22d6251.js","https://kooritea.moe/assets/PageHeader-4a3be313.js","https://kooritea.moe/assets/vendor-cce75f21.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/vendor-2bc9f95b.css","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-f8e054a6.js","https://kooritea.moe/assets/element-plus-3d0d713c.css","https://kooritea.moe/assets/GOORyonaPage-8272e4d6.css"],import.meta.url)),meta:{title:"Ryona",darkTitle:"Ryona",keepAlive:!0}}]},{path:"/:pathMatch(.*)*",redirect:"/"}],ke=Je({history:Ze(),routes:jo});ke.beforeEach((e,t)=>{x.commit("AppInfo/setValue",{routeLoading:e.fullPath})});ke.afterEach((e,t)=>{x.state.AppInfo.routeLoading===e.fullPath&&x.commit("AppInfo/setValue",{routeLoading:null}),window.scrollTo({left:0,top:0,behavior:"smooth"})});const Wo={components:{AsyncButtom:ze},props:{handlers:{type:Array,default:()=>[]}},setup(e,{emit:t}){const{computedHandlers:n}=ae(e,t);return{computedHandlers:z(()=>n.value.map(o=>wt(o,["handler"])).filter(o=>o.show!==!1).sort((o,s)=>o.sort-s.sort))}}},Ko={class:"button-box"};function Yo(e,t,n,o,s,a){const r=v("AsyncButtom");return c(),h("div",Ko,[(c(!0),h(G,null,q(o.computedHandlers,i=>(c(),_(r,{key:i.name,type:i.type,onLoadingClick:i.handler,confirm:i.confirm,disabled:i.disabled,upload:i.upload},{default:D(()=>[K(B(i.name),1)]),_:2},1032,["type","onLoadingClick","confirm","disabled","upload"]))),128))])}const Xo=S(Wo,[["render",Yo],["__scopeId","data-v-9963d882"]]);function te(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qo(e=()=>{}){const t=b(0),n=b(0),o=b(null),s=b(null),a=b(""),r={start:!1,startCoordinate:{x:0,y:0},prevCoordinate:{x:0,y:0},endCoordinate:{x:0,y:0},touches:null,isScale:!1};return{offsetX:t,offsetY:n,imageWidth:o,imageHeight:s,mainBorder:a,touchstart:u=>{u.preventDefault(),r.start=!0,u.touches.length===1?(r.startCoordinate={x:u.touches[0].clientX,y:u.touches[0].clientY},r.prevCoordinate={x:u.touches[0].clientX,y:u.touches[0].clientY}):r.touches=u.touches},touchmove:u=>{if(u.preventDefault(),r.start){if(u.touches.length>1){r.isScale=!0;let p=r.touches[0],O=r.touches[1];const W=te({x:p.clientX,y:p.clientY},{x:O.clientX,y:O.clientY});p=u.touches[0],O=u.touches[1];const J=te({x:p.clientX,y:p.clientY},{x:O.clientX,y:O.clientY}),R=(W-J)/10;a.value==="height"?s.value-R>50&&(s.value=s.value-R):o.value-R>50&&(o.value=o.value-R)}else if(!r.isScale){const p={x:u.touches[0].clientX,y:u.touches[0].clientY};t.value+=r.prevCoordinate.x-p.x,n.value+=r.prevCoordinate.y-p.y,r.prevCoordinate=p}}},touchend:u=>{u.preventDefault(),u.touches.length===0&&(r.isScale?r.isScale=!1:(r.start=!1,r.endCoordinate={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY},te(r.startCoordinate,r.endCoordinate)<5&&e()))},mousedown:u=>{u.preventDefault(),r.start=!0,r.startCoordinate={x:u.clientX,y:u.clientY},r.prevCoordinate={x:u.clientX,y:u.clientY}},mousemove:u=>{if(u.preventDefault(),r.start){const p={x:u.clientX,y:u.clientY};t.value+=r.prevCoordinate.x-p.x,n.value+=r.prevCoordinate.y-p.y,r.prevCoordinate=p}},mouseup:u=>{u.preventDefault(),r.start&&(r.start=!1,r.endCoordinate={x:u.clientX,y:u.clientY},te(r.startCoordinate,r.endCoordinate)<5&&e())}}}const Jo={components:{LoadingIcon:N,ButtonBox:Xo},setup(){const e=b(!1),t=b(!1),n=b(!1),o=b(""),s=Ce([]),a=()=>{e.value=!1,t.value=!1,l.value=null,f.value=null,r.value=0,i.value=0,w.value="",o.value=""},{offsetX:r,offsetY:i,imageWidth:l,imageHeight:f,mainBorder:w,touchstart:I,touchmove:H,touchend:u,mousedown:p,mousemove:O,mouseup:W}=qo(a);return{visible:e,loading:t,src:o,handlers:s,offsetX:r,offsetY:i,imageWidth:l,imageHeight:f,mainBorder:w,touchstart:I,touchmove:H,touchend:u,mousedown:p,mousemove:O,mouseup:W,callClose:a,isWheel:n}},computed:{imageWidthString(){return this.imageWidth===null?"auto":this.imageWidth+"px"},imageHeightString(){return this.imageHeight===null?"auto":this.imageHeight+"px"}},methods:{open({src:e,handlers:t=[]}){this.loading=!0,this.visible=!0,this.src=e,this.handlers=t;let n=!1;const o=setInterval(()=>{!n&&this.$refs.img&&this.$refs.img.width&&this.$refs.img.height&&(n=!0,clearInterval(o),this.initImageSize())},100)},vw(e){return document.documentElement.clientWidth*(e/100)},vh(e){return document.documentElement.clientHeight*(e/100)},initImageSize(){const e=this.$refs.img,t=this.vw(100);if(this.vh(100)>t){const o=this.vh(80);e.width/e.height*o>this.vw(80)?(this.imageWidth=this.vw(80),this.mainBorder="width"):(this.imageHeight=o,this.mainBorder="height")}else{const o=this.vw(80);e.height/e.width*o>this.vh(80)?(this.imageHeight=this.vh(80),this.mainBorder="height"):(this.imageWidth=o,this.mainBorder="width")}},onLoad(e){this.loading=!1},onWheel(e){e.preventDefault(),this.isWheel=!0,this.loading||(this.mainBorder==="height"?this.imageHeight-e.deltaY>50&&(this.imageHeight=this.imageHeight-e.deltaY):this.imageWidth-e.deltaY>50&&(this.imageWidth=this.imageWidth-e.deltaY))}}},Zo=["src"];function Qo(e,t,n,o,s,a){const r=v("LoadingIcon"),i=v("ButtonBox");return o.visible?(c(),h("div",{key:0,class:"image-viewer",onWheel:t[7]||(t[7]=E((...l)=>a.onWheel&&a.onWheel(...l),["prevent","stop"])),onTouchstart:t[8]||(t[8]=(...l)=>o.touchstart&&o.touchstart(...l)),onTouchmove:t[9]||(t[9]=l=>{o.isWheel=!1,o.touchmove(l)}),onTouchend:t[10]||(t[10]=(...l)=>o.touchend&&o.touchend(...l)),onMousedown:t[11]||(t[11]=(...l)=>o.mousedown&&o.mousedown(...l)),onMousemove:t[12]||(t[12]=(...l)=>o.mousemove&&o.mousemove(...l)),onMouseup:t[13]||(t[13]=(...l)=>o.mouseup&&o.mouseup(...l))},[d("div",{class:M(["img-bg",{loading:o.loading}]),style:A({left:`calc(50% - ${o.offsetX}px)`,top:`calc(50% - ${o.offsetY}px)`})},[Y(d("img",{ref:"img",class:M(["image",{"is-wheel":o.isWheel}]),style:A({height:a.imageHeightString,width:a.imageWidthString}),src:o.src,onLoad:t[0]||(t[0]=(...l)=>a.onLoad&&a.onLoad(...l))},null,46,Zo),[[Qe,o.imageWidth||o.imageHeight]])],6),o.loading?(c(),_(r,{key:0,class:"loading"})):g("",!0),o.handlers.length>0?(c(),_(i,{key:1,handlers:o.handlers,onTouchstart:t[1]||(t[1]=E(()=>{},["stop"])),onTouchmove:t[2]||(t[2]=E(()=>{},["stop"])),onTouchend:t[3]||(t[3]=E(()=>{},["stop"])),onMousedown:t[4]||(t[4]=E(()=>{},["stop"])),onMousemove:t[5]||(t[5]=E(()=>{},["stop"])),onMouseup:t[6]||(t[6]=E(()=>{},["stop"]))},null,8,["handlers"])):g("",!0)],32)):g("",!0)}const en=S(Jo,[["render",Qo],["__scopeId","data-v-0cc0c4bd"]]);let oe=null;const Ne=(e,t={})=>(oe||(oe=me(en).mount("#image-viewer")),oe.open({src:e,...t}),oe),tn={install:(e,t)=>{e.config.globalProperties.$imagePreview=Ne}},nr=Ne;const on={components:{ElConfigProvider:tt},setup(){const{darkMode:e,mobileMode:t}=se(),{accessKey:n,offlineMode:o,devMode:s}=Ge(),a=()=>{t.value=window.innerWidth<window.innerHeight};X(e,i=>{i?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}),X(t,i=>{i?document.body.classList.add("mobile-mode"):document.body.classList.remove("mobile-mode")}),Te(()=>{window.addEventListener("resize",a),a();const i=new Date().getHours();i>=0&&i<6&&(e.value=!0,V.warning("现在是网抑时间"))}),Ee(()=>{window.removeEventListener("resize",a)}),s.value&&V.warning("已设置使用开发模式"),o.value&&V.warning("已设置使用离线模式");const r=new Date;return r.getHours()>=17&&r.getHours()<19&&V.warning("逢魔之时"),window.__toAuthAssetsUrl=function(i){return`${i}?token=${n.value}`},{locale:ot}}},nn={class:"app"};function rn(e,t,n,o,s,a){const r=v("router-view"),i=v("el-config-provider");return c(),_(i,{locale:o.locale},{default:D(()=>[d("div",nn,[k(r,null,{default:D(({Component:l})=>[e.$route.meta.keepAlive?(c(),_(he,{key:0},[(c(),_(U(l)))],1024)):g("",!0),e.$route.meta.keepAlive?g("",!0):(c(),_(U(l),{key:1}))]),_:1})])]),_:1},8,["locale"])}const sn=S(on,[["render",rn]]),j=me(sn);j.use(ke);j.use(x);j.use(tn);j.use(lo);j.use(mt);j.mount("#app");export{tr as $,ze as A,Xo as B,zn as C,Rn as D,Fn as E,Un as F,En as G,Bn as H,On as I,Dn as J,Wn as K,N as L,V as M,fn as N,Nn as O,Kn as P,Yn as Q,Xn as R,ge as S,It as T,gn as U,pn as V,be as W,wn as X,ce as Y,Jn as Z,S as _,Ge as a,qn as a0,Zn as a1,Qn as a2,er as a3,or as a4,fe as a5,$n as a6,Pn as a7,Gn as a8,nr as a9,Cn as aa,xn as b,yn as c,hn as d,Ct as e,mn as f,_n as g,Sn as h,In as i,vn as j,y as k,Bt as l,Tt as m,ae as n,Tn as o,Vn as p,bn as q,kn as r,Ae as s,Ln as t,se as u,jn as v,pt as w,Mn as x,Hn as y,An as z};
