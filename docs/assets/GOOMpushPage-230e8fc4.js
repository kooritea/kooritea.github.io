import{P as g}from"./PageHeader-56066d73.js";import{_ as x,T as f,i as V,M as i}from"./index-8afe2753.js";import{M as h,u as y}from"./MDEditor-2aa31739.js";import{w as m}from"./GreatOldOne-395b41b1.js";import{b2 as n,ch as p,aP as M,aQ as H,bo as r,aR as P,by as b}from"./vendor-b07f99b0.js";import"./element-plus-966ba156.js";import"./highlightjs-4914df6f.js";import"./MarkDown-1a551a43.js";import"./ImageCon-705b8248.js";const k={components:{PageHeader:g,TextInput:f,MDEditor:h,AsyncSwitch:V},setup(){const s=n(""),e=n(!0),t=n(""),o=n(""),d=n(null);return{target:s,isGroup:e,title:t,desp:o,exHandlers:[{name:"发送",type:"primary",handler:()=>{const l=s.value||(e.value?"admin":"kooritea");m(l,e.value?"group":"personal",{text:t.value,desp:o.value||void 0}).then(()=>{i.success("发表成功"),t.value="",d.value.submitHandler()})}},{name:"提交预约",type:"primary",handler:()=>{y(l=>{const u=s.value||(e.value?"admin":"kooritea");return m(u,e.value?"group":"personal",{text:t.value,desp:o.value||void 0,reservation:l.value}).then(()=>{i.success("预约成功"),t.value="",d.value.submitHandler()})})}}],editor:d}}},G={class:"page"},w={class:"group-cell"};function T(s,e,t,o,d,c){const l=p("PageHeader"),u=p("TextInput"),_=p("AsyncSwitch"),v=p("MDEditor");return M(),H("div",G,[r(l),r(u,{modelValue:o.target,"onUpdate:modelValue":e[0]||(e[0]=a=>o.target=a),placeholder:o.isGroup?"admin":"kooritea",style:{"margin-bottom":"12px"}},null,8,["modelValue","placeholder"]),P("div",w,[b(" 群发 "),r(_,{modelValue:o.isGroup,"onUpdate:modelValue":e[1]||(e[1]=a=>o.isGroup=a)},null,8,["modelValue"])]),r(u,{modelValue:o.title,"onUpdate:modelValue":e[2]||(e[2]=a=>o.title=a),placeholder:"标题",style:{"margin-bottom":"12px"}},null,8,["modelValue"]),r(v,{ref:"editor",modelValue:o.desp,"onUpdate:modelValue":e[3]||(e[3]=a=>o.desp=a),"show-default-handlers":["reset","clean"],"ex-handlers":o.exHandlers},null,8,["modelValue","ex-handlers"])])}const C=x(k,[["render",T],["__scopeId","data-v-fdda49d8"]]);export{C as default};
