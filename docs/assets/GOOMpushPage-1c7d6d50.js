import{P as g}from"./PageHeader-f014b549.js";import{_ as x,T as f,i as V,M as i}from"./index-f7418f35.js";import{M as h,u as y}from"./MDEditor-3b7cb9c0.js";import{w as m}from"./GreatOldOne-9d5782c0.js";import{aY as n,ch as p,aP as M,aQ as H,bv as r,aR as P,bU as b}from"./vendor-b440bceb.js";import"./element-plus-985aab11.js";import"./highlightjs-4914df6f.js";import"./MarkDown-15a5cae4.js";import"./ImageCon-a9e52930.js";const k={components:{PageHeader:g,TextInput:f,MDEditor:h,AsyncSwitch:V},setup(){const s=n(""),e=n(!0),t=n(""),a=n(""),d=n(null);return{target:s,isGroup:e,title:t,desp:a,exHandlers:[{name:"发送",type:"primary",handler:()=>{const l=s.value||(e.value?"admin":"kooritea");m(l,e.value?"group":"personal",{text:t.value,desp:a.value||void 0}).then(()=>{i.success("发表成功"),t.value="",d.value.submitHandler()})}},{name:"提交预约",type:"primary",handler:()=>{y(l=>{const u=s.value||(e.value?"admin":"kooritea");return m(u,e.value?"group":"personal",{text:t.value,desp:a.value||void 0,reservation:l.value}).then(()=>{i.success("预约成功"),t.value="",d.value.submitHandler()})})}}],editor:d}}},G={class:"page"},w={class:"group-cell"};function T(s,e,t,a,d,c){const l=p("PageHeader"),u=p("TextInput"),_=p("AsyncSwitch"),v=p("MDEditor");return M(),H("div",G,[r(l),r(u,{modelValue:a.target,"onUpdate:modelValue":e[0]||(e[0]=o=>a.target=o),placeholder:a.isGroup?"admin":"kooritea",style:{"margin-bottom":"12px"}},null,8,["modelValue","placeholder"]),P("div",w,[b(" 群发 "),r(_,{modelValue:a.isGroup,"onUpdate:modelValue":e[1]||(e[1]=o=>a.isGroup=o)},null,8,["modelValue"])]),r(u,{modelValue:a.title,"onUpdate:modelValue":e[2]||(e[2]=o=>a.title=o),placeholder:"标题",style:{"margin-bottom":"12px"}},null,8,["modelValue"]),r(v,{ref:"editor",modelValue:a.desp,"onUpdate:modelValue":e[3]||(e[3]=o=>a.desp=o),"show-default-handlers":["reset","clean"],"ex-handlers":a.exHandlers},null,8,["modelValue","ex-handlers"])])}const C=x(k,[["render",T],["__scopeId","data-v-fdda49d8"]]);export{C as default};
