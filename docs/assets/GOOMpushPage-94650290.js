import{P as g}from"./PageHeader-e97f8a21.js";import{_ as x,T as f,l as V,U as i,M as m}from"./index-6dfeff5e.js";import{M as h,u as y}from"./MDEditor-4c5fc78b.js";import{b7 as n,cf as p,aQ as M,aR as H,bC as r,aS as b,bA as P}from"./vendor-23d2f8cc.js";import"./element-plus-88343e01.js";import"./highlightjs-4914df6f.js";import"./MarkDown-0f09752a.js";import"./ImageCon-7fd1f245.js";const k={components:{PageHeader:g,TextInput:f,MDEditor:h,AsyncSwitch:V},setup(){const s=n(""),e=n(!0),t=n(""),a=n(""),d=n(null);return{target:s,isGroup:e,title:t,desp:a,exHandlers:[{name:"发送",type:"primary",handler:()=>{const l=s.value||(e.value?"admin":"kooritea");i(l,e.value?"group":"personal",{text:t.value,desp:a.value||void 0}).then(()=>{m.success("发表成功"),t.value="",d.value.submitHandler()})}},{name:"提交预约",type:"primary",handler:()=>{y(l=>{const u=s.value||(e.value?"admin":"kooritea");return i(u,e.value?"group":"personal",{text:t.value,desp:a.value||void 0,reservation:l.value}).then(()=>{m.success("预约成功"),t.value="",d.value.submitHandler()})})}}],editor:d}}},G={class:"page"},A={class:"group-cell"};function T(s,e,t,a,d,c){const l=p("PageHeader"),u=p("TextInput"),_=p("AsyncSwitch"),v=p("MDEditor");return M(),H("div",G,[r(l),r(u,{modelValue:a.target,"onUpdate:modelValue":e[0]||(e[0]=o=>a.target=o),placeholder:a.isGroup?"admin":"kooritea",style:{"margin-bottom":"12px"}},null,8,["modelValue","placeholder"]),b("div",A,[P(" 群发 "),r(_,{modelValue:a.isGroup,"onUpdate:modelValue":e[1]||(e[1]=o=>a.isGroup=o)},null,8,["modelValue"])]),r(u,{modelValue:a.title,"onUpdate:modelValue":e[2]||(e[2]=o=>a.title=o),placeholder:"标题",style:{"margin-bottom":"12px"}},null,8,["modelValue"]),r(v,{ref:"editor",modelValue:a.desp,"onUpdate:modelValue":e[3]||(e[3]=o=>a.desp=o),"show-default-handlers":["reset","clean"],"ex-handlers":a.exHandlers},null,8,["modelValue","ex-handlers"])])}const N=x(k,[["render",T],["__scopeId","data-v-fdda49d8"]]);export{N as default};
