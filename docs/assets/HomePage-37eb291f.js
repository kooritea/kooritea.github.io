import{_ as y,L as x,A as I,u as L,d as C,g as B}from"./index-6a209be8.js";import{I as H}from"./ImageCon-abfca0d4.js";import{b2 as c,bM as p,bN as A,b0 as E,cd as u,aR as t,aS as l,bz as k,bD as a,aT as g,a_ as N,bF as m,bv as j,bw as w,bA as z,bE as M}from"./vendor-5d98ec45.js";import"./element-plus-2fbd5573.js";import"./highlightjs-4914df6f.js";const P={components:{ImageCon:H,LoadingIcon:x,AsyncButtom:I},setup(){const{mobileMode:b}=L(),n=c(!0),d=c(!0),o=c(!0),_=p({}),h=c(0),s=c(0),e=p([]),r=()=>(d.value=!0,C(B(e).then(i=>{e.includes(i.id)?e.splice(0,e.length):e.push(i.id),Object.assign(_,i)}),500).then(()=>{d.value=!1,o.value=!1}));r(),A(()=>{var i,v;h.value=(i=s.value)!=null&&i.clientHeight?`${(v=s.value)==null?void 0:v.clientHeight}px`:"unset"});const f=E(()=>n.value||d.value);return{mobileMode:b,imageLoading:n,firstLoading:o,hitokoto:_,loading:f,ElInfo:s,infoHeight:h,reload:r}}},S={class:"home"},T={ref:"ElInfo",class:"info"},V={key:0,class:"cn-text"},D={key:1,class:"text"},F={key:2,class:"author-title"},U={class:"author"},O={class:"title"};function R(b,n,d,o,_,h){const s=u("ImageCon"),e=u("LoadingIcon"),r=u("AsyncButtom");return t(),l("div",S,[o.hitokoto.id?(t(),k(s,{key:0,loading:o.imageLoading,"onUpdate:loading":n[0]||(n[0]=f=>o.imageLoading=f),src:o.mobileMode&&o.hitokoto.mobile?o.hitokoto.mobile:o.hitokoto.pc,"loading-type":"fade","loading-delay":200,prefix:["https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://fastly.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://raw.githubusercontent.com/kooritea/kooritea.github.io/img"]},null,8,["loading","src","prefix"])):a("",!0),g("div",{class:j(["info-box",{loading:o.loading}]),style:w({height:o.infoHeight})},[g("div",T,[o.loading?a("",!0):(t(),l(N,{key:0},[o.loading?a("",!0):(t(),l("div",V,m(o.hitokoto.cnText),1)),o.loading?a("",!0):(t(),l("div",D,m(o.hitokoto.text),1)),o.loading?a("",!0):(t(),l("div",F,[g("span",U,m(o.hitokoto.author),1),g("span",O,m(o.hitokoto.title),1)]))],64)),o.loading?(t(),k(e,{key:1})):a("",!0)],512)],6),o.firstLoading?a("",!0):(t(),k(r,{key:1,class:"reload-button",type:"info",onLoadingClick:o.reload},{default:z(()=>[M(" 换一张 ")]),_:1},8,["onLoadingClick"]))])}const W=y(P,[["render",R],["__scopeId","data-v-a7cf981a"]]);export{W as default};
