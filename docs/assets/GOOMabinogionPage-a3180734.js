import{_ as v,B as w,j as x,A as M,M as O}from"./index-525673ee.js";import{P as E}from"./PageHeader-eb44f00f.js";import{b as F,c as P,d as S,e as j,f as G,g as A,h as C}from"./element-plus-e4ab5447.js";import{r as N,aN as l,o as u,Y as _,Z as r,h as b,an as q,$ as n,V,ao as f,W as I,a5 as R,j as U}from"./vendor-3b101320.js";import{c as B,d as H}from"./GreatOldOne-26964f9a.js";import"./highlightjs-b0208cd2.js";const T={components:{ElForm:F,ElFormItem:P,ElInput:S,ElRadioGroup:j,ElRadio:G,ButtonBox:w},props:{modelValue:{type:Object,default:()=>({})},fields:{type:Array,default:()=>[]},onSubmit:{type:Function,default:void 0}},emits:["update:modelValue"],setup(e,{emit:d}){const c=N(null),{computedModelValue:t}=x(e,d);return{computedModelValue:t,handlers:[{name:"提交",type:"primary",handler:()=>new Promise(s=>{c.value.validate((m,i)=>{m&&(typeof e.onSubmit=="function"?s(e.onSubmit(t.value)):s())})})}],form:c}}};function z(e,d,c,t,k,s){const m=l("el-input"),i=l("el-radio"),y=l("el-radio-group"),p=l("el-form-item"),h=l("ButtonBox"),a=l("el-form");return u(),_(a,{ref:"form",model:t.computedModelValue,"label-position":"top"},{default:r(()=>[(u(!0),b(I,null,q(c.fields,o=>(u(),b("div",{key:o.prop},[n(p,{label:o.label,prop:o.prop,required:o.required},{default:r(()=>[o.type==="input"?(u(),_(m,{key:0,modelValue:t.computedModelValue[o.prop],"onUpdate:modelValue":g=>t.computedModelValue[o.prop]=g},null,8,["modelValue","onUpdate:modelValue"])):V("",!0),o.type==="boolean"?(u(),_(y,{key:1,modelValue:t.computedModelValue[o.prop],"onUpdate:modelValue":g=>t.computedModelValue[o.prop]=g},{default:r(()=>[n(i,{border:"",label:!0},{default:r(()=>[f("是")]),_:1}),n(i,{border:"",label:!1},{default:r(()=>[f("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["label","prop","required"])]))),128)),t.handlers.length>0?(u(),_(h,{key:0,handlers:t.handlers},null,8,["handlers"])):V("",!0)]),_:1},8,["model"])}const L=v(T,[["render",z]]);const W={components:{AsyncButtom:M,PageHeader:E,GOOMabinogionFields:L,ElTable:A,ElTableColumn:C},setup(){const e=R([]),d=()=>H().then(c=>{e.splice(0,e.length),e.push(...c)});return d(),{realtodos:e,load:d}},methods:{onSubmit(e,d){return B(e.row.uuid,{type:"resolve",data:d}).then(()=>(O.success("处理成功"),this.load()))},reject(e,d){return B(e.row.uuid,{type:"reject",reason:d.inputValue}).then(()=>this.load())}}},Y={class:"page"},Z={class:"preview"},D={key:0,class:"quick-boolean"};function J(e,d,c,t,k,s){const m=l("PageHeader"),i=l("AsyncButtom"),y=l("GOOMabinogionFields"),p=l("el-table-column"),h=l("el-table");return u(),b("div",Y,[n(m),n(h,{border:"",data:t.realtodos,style:{width:"100%"}},{default:r(()=>[n(p,{type:"expand"},{default:r(a=>[U("div",Z,[a.row.fields.length===1&&a.row.fields[0].type==="boolean"?(u(),b("div",D,[n(i,{type:"primary","on-click":()=>s.onSubmit(a,{[a.row.fields[0].prop]:!0})},{default:r(()=>[f(" 是 ")]),_:2},1032,["on-click"]),n(i,{type:"default","on-click":()=>s.onSubmit(a,{[a.row.fields[0].prop]:!0})},{default:r(()=>[f(" 否 ")]),_:2},1032,["on-click"])])):(u(),_(y,{key:1,fields:a.row.fields,"on-submit":o=>s.onSubmit(a,o)},null,8,["fields","on-submit"]))])]),_:1}),n(p,{prop:"name",label:"描述"}),n(p,{label:"操作",width:"120px"},{default:r(a=>[n(i,{type:"danger",size:"mini","on-click":o=>s.reject(a,o),confirm:{showInput:!0,message:"请输入拒绝原因"}},{default:r(()=>[f(" 拒绝 ")]),_:2},1032,["on-click"])]),_:1})]),_:1},8,["data"])])}const te=v(W,[["render",J],["__scopeId","data-v-3ac7795f"]]);export{te as default};
