import{_ as y,L as x,A as I,u as L,d as B,g as C}from"./index-27b101af.js";import{I as H}from"./ImageCon-fc1933d2.js";import{b2 as l,bj as v,bm as A,aW as j,ch as f,aP as t,aQ as c,bv as k,bA as a,aR as g,bp as P,bz as m,bl as z,bx as E,bu as N,by as V}from"./vendor-b07f99b0.js";import"./element-plus-966ba156.js";import"./highlightjs-4914df6f.js";const w={components:{ImageCon:H,LoadingIcon:x,AsyncButtom:I},setup(){const{mobileMode:b}=L(),n=l(!0),r=l(!0),o=l(!0),h=v({}),_=l(0),s=l(0),e=v([]),d=()=>(r.value=!0,B(C(e).then(i=>{e.includes(i.id)?e.splice(0,e.length):e.push(i.id),Object.assign(h,i)}),500).then(()=>{r.value=!1,o.value=!1}));d(),A(()=>{var i,p;_.value=(i=s.value)!=null&&i.clientHeight?`${(p=s.value)==null?void 0:p.clientHeight}px`:"unset"});const u=j(()=>n.value||r.value);return{mobileMode:b,imageLoading:n,firstLoading:o,hitokoto:h,loading:u,ElInfo:s,infoHeight:_,reload:d}}},M={class:"home"},S={ref:"ElInfo",class:"info"},T={key:0,class:"cn-text"},U={key:1,class:"text"},D={key:2,class:"author-title"},F={class:"author"},O={class:"title"};function Q(b,n,r,o,h,_){const s=f("ImageCon"),e=f("LoadingIcon"),d=f("AsyncButtom");return t(),c("div",M,[o.hitokoto.id?(t(),k(s,{key:0,loading:o.imageLoading,"onUpdate:loading":n[0]||(n[0]=u=>o.imageLoading=u),src:o.mobileMode&&o.hitokoto.mobile?o.hitokoto.mobile:o.hitokoto.pc,"loading-type":"fade","loading-delay":200,prefix:["https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://fastly.jsdelivr.net/gh/kooritea/kooritea.github.io/img","https://raw.githubusercontent.com/kooritea/kooritea.github.io/img"]},null,8,["loading","src","prefix"])):a("",!0),g("div",{class:z(["info-box",{loading:o.loading}]),style:E({height:o.infoHeight})},[g("div",S,[o.loading?a("",!0):(t(),c(P,{key:0},[o.loading?a("",!0):(t(),c("div",T,m(o.hitokoto.cnText),1)),o.loading?a("",!0):(t(),c("div",U,m(o.hitokoto.text),1)),o.loading?a("",!0):(t(),c("div",D,[g("span",F,m(o.hitokoto.author),1),g("span",O,m(o.hitokoto.title),1)]))],64)),o.loading?(t(),k(e,{key:1})):a("",!0)],512)],6),o.firstLoading?a("",!0):(t(),k(d,{key:1,class:"reload-button",type:"info","on-click":o.reload},{default:N(()=>[V(" 换一张 ")]),_:1},8,["on-click"]))])}const K=y(w,[["render",Q],["__scopeId","data-v-7663a6a0"]]);export{K as default};
