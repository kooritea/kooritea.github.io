import{aP as c,aQ as h,cq as le,cr as ce,aR as d,cs as Ve,aW as z,ct as De,bk as Ue,b2 as _,aY as W,cd as be,ch as v,be as je,bA as p,bv as g,bl as M,bH as B,bF as N,cu as Fe,bx as C,a_ as Oe,bh as Ie,ci as we,bo as x,bu as I,by as F,bz as D,aZ as ke,bj as Te,bp as $,b_ as K,cm as de,cv as Ne,cw as ue,cx as We,bw as ne,cy as Be,cz as Ke,cA as Ye,bG as Xe}from"./vendor-b07f99b0.js";import{E as qe,a as Je,z as Ze}from"./element-plus-966ba156.js";import"./highlightjs-4914df6f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol class="icon" viewBox="0 0 1024 1024"  id="icon-14"><path d="M271.738 465.729c56.472 0 102.438-46.461 102.438-103.514 0-57.083-45.966-103.515-102.438-103.515S169.3 305.132 169.3 362.215c0 57.053 45.966 103.514 102.438 103.514zm0-177.229c40.058 0 72.637 33.074 72.637 73.715 0 40.654-32.579 73.714-72.637 73.714-40.059 0-72.638-33.06-72.638-73.714 0-40.641 32.579-73.715 72.638-73.715zM65 154.4v715.2h894V154.4H65zm864.2 685.4H123.582l288.76-244.322L560.57 724.965l368.63-294.61V839.8zm0-447.582L561.414 686.144 412.662 556.176 94.8 825.118V184.2h834.4v208.018z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-add"><path d="M512 68.256c245.056 0 443.744 198.688 443.744 443.744 0 245.056-198.688 443.744-443.744 443.744-245.056 0-443.744-198.688-443.744-443.744C68.256 266.944 266.944 68.256 512 68.256zm0 64c-209.728 0-379.744 170.016-379.744 379.744 0 209.728 170.016 379.744 379.744 379.744 209.728 0 379.744-170.016 379.744-379.744 0-209.728-170.016-379.744-379.744-379.744zm2.144 174.944a32 32 0 0 1 32 32l-.032 138.656H684.8a32 32 0 0 1 32 32v4.288a32 32 0 0 1-32 32l-138.688-.032V684.8a32 32 0 0 1-32 32h-4.256a32 32 0 0 1-32-32V546.112H339.2a32 32 0 0 1-32-32v-4.256a32 32 0 0 1 32-32h138.656V339.2a32 32 0 0 1 32-32h4.288z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-bianji"><path d="M586.944 132.416 764.48 309.888 301.056 773.44 123.52 595.968zm-342.72 691.008v4.096H67.584V649.088h3.52zM325.248 832h128v128h-128zM512 832h128v128H512zm192 0h128v128H704z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-biaoqing"><path d="M342.364 425.006c28.83 0 52.199-23.373 52.199-52.193 0-28.83-23.368-52.199-52.199-52.199-28.825 0-52.193 23.368-52.193 52.199-.005 28.82 23.368 52.193 52.193 52.193zm347.976 0c28.83 0 52.198-23.373 52.198-52.193 0-28.83-23.367-52.199-52.198-52.199s-52.193 23.368-52.193 52.199c0 28.82 23.362 52.193 52.193 52.193zM237.972 593.802c0 137.4 124.637 248.781 278.38 248.781 153.748 0 278.385-111.38 278.385-248.78H237.972zm278.38 405.366c269.056 0 487.168-218.122 487.168-487.168 0-269.056-218.117-487.168-487.168-487.168C247.296 24.832 29.184 242.944 29.184 512c0 269.05 218.112 487.168 487.168 487.168zm0-34.796C266.516 964.372 63.985 761.841 63.985 512c0-249.83 202.531-452.372 452.367-452.372 249.84 0 452.372 202.536 452.372 452.372 0 249.84-202.536 452.372-452.372 452.372z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-close"><path d="m649.179 512 212.839-212.84c37.881-37.881 37.881-99.298 0-137.179s-99.298-37.881-137.179 0L512 374.821l-212.839-212.84c-37.881-37.881-99.298-37.881-137.179 0s-37.881 99.298 0 137.179L374.821 512 161.982 724.84c-37.881 37.881-37.881 99.297 0 137.179 18.94 18.94 43.765 28.41 68.589 28.41 24.825 0 49.649-9.47 68.589-28.41L512 649.179l212.839 212.84c18.94 18.94 43.765 28.41 68.589 28.41s49.649-9.47 68.59-28.41c37.881-37.882 37.881-99.298 0-137.179L649.179 512z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-copy"><path d="M672 832H224c-52.928 0-96-43.072-96-96V160c0-52.928 43.072-96 96-96h448c52.928 0 96 43.072 96 96v576c0 52.928-43.072 96-96 96zM224 128c-17.632 0-32 14.368-32 32v576c0 17.664 14.368 32 32 32h448c17.664 0 32-14.336 32-32V160c0-17.632-14.336-32-32-32H224zm576 832H320c-17.664 0-32-14.304-32-32s14.336-32 32-32h480c17.664 0 32-14.336 32-32V256c0-17.664 14.304-32 32-32s32 14.336 32 32v608c0 52.928-43.072 96-96 96zM544 320H288c-17.664 0-32-14.336-32-32s14.336-32 32-32h256c17.696 0 32 14.336 32 32s-14.304 32-32 32zm64 160H288.032c-17.664 0-32-14.336-32-32s14.336-32 32-32H608c17.696 0 32 14.336 32 32s-14.304 32-32 32zm0 160H288c-17.664 0-32-14.304-32-32s14.336-32 32-32h320c17.696 0 32 14.304 32 32s-14.304 32-32 32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-icon-time"><path d="M511.997 9.749C234.609 9.749 9.749 234.611 9.749 512.003c0 277.388 224.86 502.248 502.248 502.248s502.254-224.86 502.254-502.248c0-277.387-224.866-502.254-502.254-502.254zm170.846 693.012-17.755 17.76c-9.809 9.802-25.709 9.802-35.516 0l-162.86-162.866c-5.632-5.625-4.937-16.94-4.937-28.078V210.65c0-13.87 11.243-25.111 25.111-25.111h25.11c13.87 0 25.112 11.243 25.112 25.11V521.51l145.735 145.735c9.808 9.807 9.808 25.708 0 35.516zm0 0" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-info-circle"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-48-548a48 48 0 1 0 96 0 48 48 0 1 0-96 0Zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-jia"><path d="M902.245 393.075V628.87H629.177v273.068H393.381V628.87H120.359V393.075h273.023V120.05h235.796v273.025h273.067z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-jian"><path d="M64.323 349.208h895.353v325.584H64.323V349.208Z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-loading"><path d="M533.333 682.667v192h-64v-192h64zm-175.317-72.619 45.27 45.27L267.52 791.06l-45.248-45.226 135.744-135.787zm286.635 0 135.744 135.765-45.227 45.248-135.787-135.744 45.27-45.269zM330.667 480v64h-192v-64h192zM864 480v64H672v-64h192zM735.147 232.939l45.248 45.226L644.65 413.952l-45.27-45.27L735.147 232.94zm-467.627 0 135.765 135.744-45.269 45.269-135.744-135.765 45.227-45.248zm265.813-83.606v192h-64v-192h64z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-menu"><path d="M0 227.556V0h1024v227.556zm0 398.222V398.222h1024v227.556zM0 1024V796.444h1024V1024z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-shanchu"><path d="M907.618 232.742H744.714V116.383c0-12.853-10.42-23.273-23.273-23.273H302.557c-12.853 0-23.273 10.42-23.273 23.273v116.36H116.381c-12.853 0-23.273 10.42-23.273 23.273s10.42 23.272 23.273 23.272h791.237c12.853 0 23.273-10.42 23.273-23.272s-10.421-23.274-23.273-23.274zM325.83 139.654h372.34v93.088H325.83v-93.088zm465.429 232.709c-12.853 0-23.273 10.419-23.273 23.272v488.713H256.013V395.635c0-12.852-10.419-23.272-23.273-23.272s-23.272 10.419-23.272 23.272V907.62c0 12.853 10.419 23.273 23.272 23.273h558.517c12.852 0 23.272-10.42 23.272-23.273V395.635c0-12.852-10.419-23.272-23.271-23.272zM442.19 767.987V395.635c0-12.852-10.42-23.272-23.273-23.272s-23.272 10.419-23.272 23.272v372.352c0 12.853 10.418 23.273 23.272 23.273s23.273-10.42 23.273-23.273zm186.163 0V395.635c0-12.852-10.42-23.272-23.272-23.272s-23.273 10.419-23.273 23.272v372.352c0 12.853 10.42 23.273 23.273 23.273s23.272-10.42 23.272-23.273z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-shuohuaqipao"><path d="M310.857 530.286c30.285 0 54.857-24.573 54.857-54.857s-24.572-54.858-54.857-54.858S256 445.144 256 475.43s24.572 54.857 54.857 54.857zm201.143 0c30.285 0 54.857-24.573 54.857-54.857S542.285 420.57 512 420.57s-54.857 24.573-54.857 54.858 24.572 54.857 54.857 54.857zm201.143 0c30.285 0 54.857-24.573 54.857-54.857s-24.572-54.858-54.857-54.858-54.857 24.573-54.857 54.858 24.572 54.857 54.857 54.857zm256-420.572H54.857c-20.215 0-36.571 16.375-36.571 36.572V804.57c0 20.215 16.356 36.572 36.571 36.572H384L512 1024l128-182.857h329.143c20.215 0 36.571-16.357 36.571-36.572V146.286c0-20.197-16.356-36.572-36.571-36.572zM932.57 768H601.93L512 896.464 422.073 768H91.429V182.857H932.57V768z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-xinxi"><path d="M512.501 958.398c-119.32 0-231.5-46.465-315.87-130.838-84.372-84.372-130.839-196.55-130.839-315.871 0-119.32 46.467-231.5 130.838-315.871C281.003 111.445 393.18 64.98 512.501 64.98s231.5 46.465 315.872 130.838c84.372 84.372 130.837 196.551 130.837 315.87 0 119.323-46.465 231.5-130.837 315.872C744 911.933 631.822 958.398 512.5 958.398zm0-852.436c-223.718 0-405.726 182.009-405.726 405.727S288.783 917.415 512.5 917.415c223.719 0 405.728-182.008 405.728-405.726S736.221 105.962 512.501 105.962zm-2.35 669.992c-18.108 0-32.746-14.679-32.746-32.786V452.192c0-18.109 14.638-32.786 32.746-32.786 18.107 0 32.746 14.678 32.746 32.786v290.976c0 18.107-14.639 32.786-32.746 32.786zM466.277 296.459a44.054 44.054 0 1 0 90.161 0 44.054 44.054 0 1 0-90.161 0Z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-yinliang"><path d="M218.496 334.61c-.391-.02-.774-.02-1.165-.02H100.023c-21.745 0-39.088 17.449-39.088 39.002v273.866c0 21.552 17.506 39 39.088 39h117.48v.153l287.22 185.975a38.877 38.877 0 0 0 25.372 9.355c21.59 0 39.096-17.506 39.096-39.096 0-1.795-.125-3.552-.354-5.27V183.474c.23-1.718.354-3.475.354-5.27 0-21.59-17.506-39.096-39.096-39.096a39.001 39.001 0 0 0-23.683 7.98L218.496 334.61zM757.858 953.49l.086.076C881.82 846.052 960.155 687.434 960.155 510.525c0-177.214-78.603-336.063-202.85-443.616l-.115.114c-4.963-3.817-11.177-6.109-17.925-6.109-16.198 0-29.323 13.133-29.323 29.322a29.188 29.188 0 0 0 6.109 17.926l-.334.343c.822.706 1.642 1.394 2.462 2.12a30.126 30.126 0 0 0 3.818 3.321c110.055 96.71 179.514 238.55 179.514 396.578 0 158.028-69.46 299.867-179.514 396.578a30.126 30.126 0 0 0-3.818 3.321c-.6.533-1.212 1.05-1.822 1.565l.229.23a29.193 29.193 0 0 0-6.643 18.594c0 16.188 13.125 29.321 29.323 29.321a29.163 29.163 0 0 0 18.592-6.642zm-43.86-224.137.239.248c55.38-56.43 89.532-133.765 89.532-219.078 0-85.409-34.229-162.8-89.704-219.25l-.269.268a29.262 29.262 0 0 0-17.543-5.822c-16.198 0-29.323 13.134-29.323 29.322a29.224 29.224 0 0 0 5.823 17.545l-.163.17c.774.784 1.547 1.585 2.31 2.387.076.077.153.172.24.249 43.362 45.587 69.983 107.248 69.983 175.132 0 67.885-26.621 129.545-69.984 175.132-.086.078-.163.172-.238.248-.706.746-1.423 1.471-2.14 2.214l.145.134a29.23 29.23 0 0 0-5.976 17.755c0 16.188 13.125 29.321 29.323 29.321 6.673 0 12.82-2.215 17.745-5.975z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-zhankai"><path d="M753.6 611.52a32 32 0 1 1 28.8 56.96l-256 128a32 32 0 0 1-28.8 0l-256-128a32 32 0 0 1 28.8-56.96L512 732.16zm0-288a32 32 0 1 1 28.8 56.96l-256 128a32 32 0 0 1-28.8 0l-256-128a32 32 0 1 1 28.8-56.96L512 444.16z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-zhankai1"><path d="M720.896 737.28c-10.24 0-20.992-4.096-29.184-11.776-15.872-15.872-15.872-41.984 0-57.856l173.056-173.056-173.056-173.056c-15.872-15.872-15.872-41.984 0-57.856s41.984-15.872 57.856 0l202.24 202.24c15.872 15.872 15.872 41.984 0 57.856l-202.24 202.24c-8.192 7.168-18.432 11.264-28.672 11.264zm202.24-600.576h-819.2c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h819.2c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96zm0 827.392h-819.2c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h819.2c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96zm-460.8-275.968h-358.4c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h358.4c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96zm0-275.456h-358.4c-22.528 0-40.96-18.432-40.96-40.96s18.432-40.96 40.96-40.96h358.4c22.528 0 40.96 18.432 40.96 40.96s-18.432 40.96-40.96 40.96z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-zhizhang10"><path d="m263.825 266.207-11.658-10.775-4.203-.212c.967.324 16.511 18.699 16.511 18.699l23.647-23.084h-4.538l-19.759 15.372zM849.61 47.127H206.864c-24.576 0-46.021 19.999-46.021 44.576v803.39c0 28.017 17.971 48.354 40.74 48.354h651.868c25.504 0 40.741-24.588 40.741-48.354V91.702c.004-24.576-19.995-44.576-44.583-44.576zm17.426 847.964c0 10.192-5.186 21.187-13.58 21.187h-651.87c-8.846 0-13.58-12.99-13.58-21.187V91.701c0-9.601 9.257-17.413 18.86-17.413h642.743c9.615 0 17.426 7.812 17.426 17.414V895.09zM310.23 277.989h122.226c7.506 0 13.58-6.08 13.58-13.574 0-7.5-6.074-13.58-13.58-13.58H310.23c-7.506 0-13.58 6.08-13.58 13.58 0 7.494 6.074 13.574 13.58 13.574zm488.902-27.154H473.198c-7.507 0-13.58 6.08-13.58 13.58 0 7.493 6.074 13.574 13.58 13.574h325.935c7.506 0 13.58-6.08 13.58-13.574 0-7.499-6.075-13.58-13.581-13.58zM425.175 481.706c7.506 0 13.58-6.08 13.58-13.58 0-7.506-6.074-13.58-13.58-13.58H313.957c-7.507 0-13.58 6.075-13.58 13.58 0 7.5 6.074 13.58 13.58 13.58h111.218zm363.904 0c7.506 0 13.58-6.08 13.58-13.58 0-7.506-6.075-13.58-13.58-13.58H473.61c-7.507 0-13.58 6.075-13.58 13.58 0 7.5 6.075 13.58 13.58 13.58h315.47zM435.03 698.995H323.81c-7.506 0-13.58 6.08-13.58 13.58 0 7.499 6.075 13.58 13.58 13.58h111.218c7.507 0 13.58-6.08 13.58-13.58 0-7.499-6.073-13.58-13.58-13.58zm364.103 0H483.449c-7.508 0-13.58 6.08-13.58 13.58 0 7.499 6.075 13.58 13.58 13.58h315.682c7.506 0 13.58-6.08 13.58-13.58.001-7.499-6.073-13.58-13.579-13.58zm-535.307 14.88-11.658-11.016-4.203-.33c.967.324 16.511 19.124 16.511 19.124l23.647-22.66h-4.538l-19.759 14.882z" /></symbol>',t.insertBefore(n,t.firstChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const Qe="modulepreload",et=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},xe={},y=function(t,n,o){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=et(a,o),a in xe)return;xe[a]=!0;const s=a.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(!!o)for(let k=r.length-1;k>=0;k--){const L=r[k];if(L.href===a&&(!s||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const f=document.createElement("link");if(f.rel=s?"stylesheet":Qe,s||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),s)return new Promise((k,L)=>{f.addEventListener("load",k),f.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};const S=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},tt={},ot=e=>(le("data-v-97590295"),e=e(),ce(),e),nt={class:"loading-icon"},st=ot(()=>d("div",{class:"loading"},[d("div"),d("div")],-1)),rt=[st];function at(e,t){return c(),h("div",nt,rt)}const Y=S(tt,[["render",at],["__scopeId","data-v-97590295"]]),it={namespaced:!0,state:()=>({mobileMode:!1,darkMode:!1,offlineModeOnly:!1,openGreatOldOneGate:!1,temporaryPublicKey:"",routeLoading:null}),mutations:{setMode(e,t){for(const n in t)e[n]=t[n]},swtichMode(e,t){e[t]=!e[t]},setValue(e,t){for(const n in t)e[n]=t[n]}},getters:{isGreatOldOne(e,t,n){return!!n.LocalStorage.accessKey&&Date.now()<n.LocalStorage.accessExp}},actions:{}};function me(){const e=Ve();return{...Object.keys(e.state.AppInfo).reduce((t,n)=>(t[n]=z({get:()=>e.state.AppInfo[n],set:o=>{e.commit("AppInfo/setMode",{[n]:o})}}),t),{}),isGreatOldOne:z(()=>e.getters["AppInfo/isGreatOldOne"])}}function He(){const{darkMode:e}=me(),t=De();return{pageTitle:z(()=>t.meta[e.value?"darkTitle":"title"]??t.meta.title??"冰茶的糖果罐"),fullscreen:z(()=>!!t.meta.fullscreen)}}function se(e,t){const n={},o=Ue(e);for(const r in o){const a=_(o[r].value);W(o[r],s=>{a.value=s}),n[`computed${r.slice(0,1).toUpperCase()}${r.slice(1)}`]=z({get:()=>a.value,set:s=>{t(`update:${r}`,s),a.value=s}})}return n}const ze=function(e,t){let n;typeof e.confirmHandlerPromise=="function"&&(n=async(r,a,s)=>{if(r==="confirm"){a.confirmButtonLoading=!0;try{await e.confirmHandlerPromise(a),s()}catch(i){a.confirmButtonLoading=!1,e.errorHanlder?e.errorHanlder(i):console.error(i)}finally{a.confirmButtonLoading=!1}}else a.confirmButtonLoading||s()});let o=e.message;return typeof e.message=="string"&&(o=be("div",null,e.message.split(`
`).map(r=>be("p",null,r)))),qe.prompt("",{beforeClose:n,showCancelButton:e.beforeClose||e.confirmHandlerPromise,confirmButtonText:"确认",cancelButtonText:"取消",closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1,showInput:!1,...e,message:o},t).catch(r=>{if(r!=="cancel")throw r})},lt={install:(e,t)=>{e.config.globalProperties.$alert=ze}},ct=ze;const dt={components:{LoadingIcon:Y},props:{type:{type:String,default:()=>"default"},disabled:{type:Boolean,default:()=>!1},loading:{type:Boolean,default:()=>!1},onClick:{type:Function,default:void 0},confirm:{type:[Object,Boolean],default:void 0},size:{type:String,default:()=>"normal"},upload:{type:Boolean,default:()=>!1}},emits:["click","update:loading"],setup(e,{emit:t}){const n=_(!0),{computedLoading:o}=se(e,t);return{computedLoading:o,refreshUploadFlag:n}},methods:{refreshUpload(){this.refreshUploadFlag=!1,this.$nextTick(()=>{this.refreshUploadFlag=!0})},_onClick(e){var t;if(!(this.computedLoading||this.disabled))if(this.confirm!==void 0?this.confirm:this.type==="danger"){const n=o=>!!o;ct({title:"提示",message:"确认执行操作?",type:"warning",confirmHandlerPromise:o=>this.do({instance:o,files:e}),inputValidator:(t=this.confirm)!=null&&t.showInput?n:void 0,inputErrorMessage:"请输入内容",...this.confirm??{}})}else this.do({files:e})},do(e){if(typeof this.onClick=="function"){const t=this.onClick(e);if(t instanceof Promise)return this.computedLoading=!0,t.finally(()=>{this.computedLoading=!1})}this.$emit("click")}}};function ut(e,t,n,o,r,a){const s=v("LoadingIcon");return c(),h("div",{class:M(["button",{loading:o.computedLoading,disabled:n.disabled,[n.type]:!0,[n.size]:!0}]),onClick:t[1]||(t[1]=B(()=>{n.upload||a._onClick()},["stop"]))},[je(e.$slots,"default",{},void 0,!0),n.upload&&o.refreshUploadFlag?(c(),h("input",{key:0,class:"uploader",type:"file",onChange:t[0]||(t[0]=i=>{a._onClick(i.target.files),a.refreshUpload()})},null,32)):p("",!0),o.computedLoading?(c(),g(s,{key:1,class:M({black:n.type==="primary"})},null,8,["class"])):p("",!0)],2)}const Ce=S(dt,[["render",ut],["__scopeId","data-v-35212712"]]);const mt={name:"SvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:""}},setup(e){return{symbolId:z(()=>`#${e.prefix}-${e.name}`)}}},ht=["xlink:href","fill"];function ft(e,t,n,o,r,a){return c(),h("svg",{class:M(["icon",`icon-${n.name}`]),"aria-hidden":"true"},[d("use",{"xlink:href":o.symbolId,class:M({inheritFill:!n.color}),fill:n.color},null,10,ht)],2)}const he=S(mt,[["render",ft],["__scopeId","data-v-a286f1d8"]]);function pt(e,t=0){let n,o,r;return(...a)=>(n&&clearTimeout(n),o||(o=new Promise(s=>{r=s})),n=setTimeout(()=>{r(e(...a)),n=null,o=null,r=null},t),o)}function sn(e,t="yyyy-MM-dd HH:mm:ss"){if(!e)return"";const n=function(r){return`${r<10?"0":""}${r}`},o=new Date(e);if(isNaN(o.valueOf()))throw new Error(`${e} is Invalid Date`);return t.replace(/yyyy|MM|M|dd|d|HH|H|mm|m|ss|s|DD|NDD|UTC/g,r=>{switch(r){case"yyyy":return n(o.getFullYear());case"MM":return n(o.getMonth()+1);case"M":return String(o.getMonth()+1);case"mm":return n(o.getMinutes());case"m":return String(o.getMinutes());case"dd":return n(o.getDate());case"d":return String(o.getDate());case"HH":return n(o.getHours());case"H":return String(o.getHours());case"ss":return n(o.getSeconds());case"s":return String(o.getSeconds());case"DD":switch(o.getDay()){case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";case 0:return"周日";default:return String(o.getDay())}case"NDD":switch(o.getDay()){case 1:return"月曜日";case 2:return"火曜日";case 3:return"水曜日";case 4:return"木曜日";case 5:return"金曜日";case 6:return"土曜日";case 0:return"日曜日";default:return""}case"UTC":return`UTC+${0-o.getTimezoneOffset()/60}`;default:return""}})}function rn(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}function Ee(){let e;document.documentElement.scrollTop?e=document.documentElement:e=document.body;let t=!1;const n=()=>{t=!0};window.addEventListener("wheel",n),window.addEventListener("touchstart",n);const o=()=>{setTimeout(()=>{e.scrollTop>0&&!t?(e.scrollTop=e.scrollTop-e.scrollTop/10,o()):(window.removeEventListener("wheel",n),window.removeEventListener("touchstart",n))},1)};o()}function gt(e,...t){return typeof e=="function"?e(t):e}function vt(e,t=[],...n){const o={...e};for(const r in e)t.includes(r)||(o[r]=gt(e[r]));return o}function an(e,t=0){return Promise.all([e,new Promise(n=>{setTimeout(()=>{n()},t)})]).then(n=>n[0])}function ln(e){for(const t of Object.keys(e))delete e[t]}const _t={components:{SvgIcon:he,LoadingIcon:Y},props:{modelValue:{type:String,default:()=>""},type:{type:String,default:()=>"input"},loading:{type:Boolean,default:()=>!1},border:{type:Boolean,default:()=>!1},disabled:{type:Boolean,default:()=>!1},onInput:{type:Function,default:null},showIcon:{type:Boolean,default:()=>!0},placeholder:{type:String,default:()=>""}},setup(e,{emit:t}){const{computedModelValue:n,computedDisabled:o,computedLoading:r}=se(e,t),a=pt(()=>{try{r.value=!0;const s=e.onInput(n.value);s instanceof Promise?s.finally(()=>{r.value=!1}):r.value=!1}catch{r.value=!1}},500);return W(n,a),{computedModelValue:n,computedDisabled:o,computedLoading:r,debounceHanlder:a}}},yt={class:"text-input"},bt=["type","disabled","placeholder"],wt={key:0,class:"icon-box"};function kt(e,t,n,o,r,a){const s=v("LoadingIcon"),i=v("SvgIcon");return c(),h("div",yt,[N(d("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.computedModelValue=l),class:M(["input",{border:n.border,"show-icon":n.showIcon}]),type:n.type,disabled:o.computedDisabled,placeholder:n.placeholder},null,10,bt),[[Fe,o.computedModelValue]]),n.showIcon?(c(),h("div",wt,[o.computedLoading?(c(),g(s,{key:0})):o.computedModelValue?(c(),g(i,{key:1,name:"close",onClick:t[1]||(t[1]=()=>{o.computedModelValue="",o.debounceHanlder()})})):p("",!0)])):p("",!0)])}const xt=S(_t,[["render",kt],["__scopeId","data-v-39445e66"]]);const Mt={name:"AsyncSwitch",components:{LoadingIcon:Y},props:{modelValue:{type:Boolean,default:()=>!1},disabled:{type:Boolean,default:()=>!1},loading:{type:Boolean,default:()=>!1},onClick:{type:Function,default:void 0}},emits:["update:modelValue","update:loading"],setup(e,{emit:t}){const{computedLoading:n}=se(e,t);return{computedLoading:n}},methods:{_onClick(){if(!(this.computedLoading||this.disabled))if(typeof this.onClick=="function"){const e=!this.modelValue,t=this.onClick(e);t instanceof Promise?(this.computedLoading=!0,t.then(()=>{this.$emit("update:modelValue",e)}).catch(n=>{n!==!1&&console.error(n)}).finally(()=>{this.computedLoading=!1})):this.$emit("update:modelValue",!this.modelValue)}else this.$emit("update:modelValue",!this.modelValue)}}},Lt={class:"bg"};function St(e,t,n,o,r,a){const s=v("LoadingIcon");return c(),h("div",{class:M(["switch-button",{disabled:n.disabled,loading:o.computedLoading}]),onClick:t[0]||(t[0]=B((...i)=>a._onClick&&a._onClick(...i),["stop"]))},[d("div",Lt,[d("div",{class:"shadow",style:C({width:n.modelValue?"100%":"0"})},null,4)]),d("div",{class:"button",style:C({left:n.modelValue?"30px":0})},[o.computedLoading?(c(),g(s,{key:0})):p("",!0)],4)],2)}const Vt=S(Mt,[["render",St],["__scopeId","data-v-5aff2f91"]]),Dt={mounted(e,t,n,o){const r=document.createElement("div");r.classList.add("mask"),t.value&&r.classList.add("show"),e.parentNode.insertBefore(r,e),e.maskDom=r,r.addEventListener("click",()=>{e.dispatchEvent(new Event("mask-click"))})},beforeUpdate(e,t,n,o){e.maskDom&&(t.value?e.maskDom.classList.add("show"):e.maskDom.classList.remove("show"))},beforeUnmount(e,t,n,o){e.maskDom&&e.maskDom.remove()}},ie={handler(e,t,n,o){if(t.value){if(e.classList.add("fade-enter"),e.fadeEnterSrc===e.src)return;e.fadeEnterSrc=e.src,t.arg?(e.delayTimer&&clearTimeout(e.delayTimer),e.delayTimer=setTimeout(()=>{e.delayTimer=null,e.complete&&e.classList.remove("important-display-none")},t.arg),e.classList.add("important-display-none")):e.complete||e.classList.add("important-display-none"),e.imgFadeEnterListener=()=>{(e.delayTimer===null||!t.arg)&&e.classList.remove("important-display-none")},e.addEventListener("load",e.imgFadeEnterListener)}else e.imgFadeEnterListener&&e.removeEventListener("load",e.imgFadeEnterListener)},beforeMount(e,t,n,o){ie.handler(e,t,n,o)},updated(e,t,n,o){ie.handler(e,t,n,o)},unmounted(e,t,n,o){e.imgFadeEnterListener&&e.removeEventListener("load",e.imgFadeEnterListener)}},cn=(e,t)=>{typeof e.innerHTML=="string"?e.innerHTML=t.value:e.data.domProps={innerHTML:t.value}};function Ot(e,t){if(!e)return"";try{const n=new TextEncoder,o=n.encode(t),r=n.encode(e),a=o.length<2?2:o.length;for(let s=0;s<r.length;s++){const i=o.length>0?o[s%o.length]:0;r[s]+=s%a+i}return r.toString()}catch{return""}}function It(e,t){if(!e)return"";try{const n=new TextDecoder,r=new TextEncoder().encode(t),a=e.split(","),s=new Uint8Array(a),i=r.length<2?2:r.length;for(let l=0;l<s.length;l++){const f=r.length>0?r[l%r.length]:0;s[l]-=l%i+f}return n.decode(s)}catch{return""}}function te(e){if(!e)return"";try{const t=new TextDecoder,n=e.split("x"),o=new Uint8Array(n);return t.decode(o)}catch{return""}}const fe=5,Tt={namespaced:!0,state:()=>Bt(),mutations:{setItem(e,t){for(const n in t)e[n]=t[n];Pe(e)}},actions:{}};function pe(){return{version:fe,isExpiredGreatOldOne:!1,darkModeDecodeKey:"",devMode:!1,offlineMode:!1,accessKey:"",accessExp:0,usernameCache:"",emoteHistory:[],uuid:$e()}}function Bt(){try{const e=JSON.parse(It(localStorage.getItem("storage")||"","localstorage"))||{};return e.version!==fe?Ae(e):e}catch(e){return console.error(e),pe()}}function Ae(e){switch(e.version){case 4:{e.uuid=$e();break}default:return pe()}return e.version++,e.version<fe?Ae(e):(Pe(e),e)}function Pe(e){localStorage.setItem("storage",Ot(JSON.stringify(e),"localstorage"))}function Ge(){const e=Ve();return Object.keys(pe()).reduce((t,n)=>(t[n]=z({get:()=>e.state.LocalStorage[n],set:o=>{e.commit("LocalStorage/setItem",{[n]:o})}}),t),{})}function $e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxs".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}).replace(/s/,(e,t,n)=>{const o=n.split("").reduce((r,a)=>/\d/.test(a)?r+Number(a):r,0).toString();return o.slice(o.length-1,o.length)})}const Ht="https://kooritea.moe/assets/kurenai.jpg";const zt={name:"GlobalNav",components:{SvgIcon:he,AsyncSwitch:Vt,LoadingIcon:Y,TextInput:xt,AsyncButtom:Ce},directives:{mask:Dt,imgFadeEnter:ie},setup(){const{routeLoading:e,darkMode:t,mobileMode:n,offlineModeOnly:o,openGreatOldOneGate:r}=me(),{isExpiredGreatOldOne:a,offlineMode:s,devMode:i,darkModeDecodeKey:l}=Ge(),{pageTitle:f,fullscreen:k}=He(),L=_(""),H=_(!0),u=()=>{const J=document.documentElement.scrollTop||document.body.scrollTop,ae=Math.min(10,J/10);L.value=`${ke(t)?"#ddd":"#222"} 0 0 ${ae}px`,H.value=J>50&&!!ke(f)};Oe(()=>{window.addEventListener("scroll",u),u()}),Ie(()=>{window.removeEventListener("scroll",u)});let m=null,V=0;const j=()=>{V++,V>10&&(r.value=!0),m&&clearTimeout(m),m=setTimeout(()=>{V=0,m=null},1e3)},X=_(!1),G=De();W(()=>G.fullPath,()=>{X.value=!1});const re=_(!1);let q=null;return{mobileMode:n,offlineModeOnly:o,isExpiredGreatOldOne:a,offlineMode:s,devMode:i,tryOpenGreatOldOneGate:j,openGreatOldOneGate:r,navShadow:L,showPageTitle:H,pageTitle:f,openMenu:X,routeLoading:e,darkMode:t,darkModeDecodeKey:l,setDarkModeDecodeKeyDialog:re,closeSetDarkModeDecodeKeyDialog:()=>{re.value=!1,typeof q=="function"&&(q(),q=null)},onSwitchDarkMode:J=>{if(J&&!l.value)return re.value=!0,new Promise(ae=>{q=ae})},fullscreen:k,setScorllGotoTop:Ee}}},E=e=>(le("data-v-9d0ac4ea"),e=e(),ce(),e),Ct={key:0,class:"mobile-menu-title"},Et={class:"route-box"},At=E(()=>d("span",{class:"text"},"随笔",-1)),Pt=E(()=>d("span",{class:"text"},"番剧",-1)),Gt=E(()=>d("span",{class:"text"},"老婆",-1)),$t=E(()=>d("span",{class:"text"},"后台",-1)),Rt={class:"text"},Ut={class:"switch-box"},jt=E(()=>d("span",{class:"text"},"深色模式",-1)),Ft=E(()=>d("span",{class:"text"},"离线模式",-1)),Nt={key:0},Wt=E(()=>d("span",{class:"text"},"开发模式",-1)),Kt={key:1,class:"dark-entry"},Yt={class:"image",src:Ht},Xt={class:"text"},qt=E(()=>d("span",{class:"kurenai"},"如月红",-1)),Jt={class:"button-box"};function Zt(e,t,n,o,r,a){const s=v("router-link"),i=v("SvgIcon"),l=v("LoadingIcon"),f=v("AsyncSwitch"),k=v("TextInput"),L=v("AsyncButtom"),H=we("mask"),u=we("imgFadeEnter");return c(),h("nav",{class:M({fullscreen:o.fullscreen}),style:C({boxShadow:o.navShadow,fullscreen:o.fullscreen})},[d("div",{class:"logo",style:C({top:o.showPageTitle&&!o.fullscreen?"-100%":"0%"})},[d("div",{class:"slogan",onClick:t[0]||(t[0]=(...m)=>o.tryOpenGreatOldOneGate&&o.tryOpenGreatOldOneGate(...m))},[x(s,{to:"/home"},{default:I(()=>[F(" 冰茶的糖果罐 "),d("span",null,D(o.darkMode?"Unhappy Sugar Life":"Happy Sugar Life"),1)]),_:1})]),d("div",{class:"page-title",onClick:t[1]||(t[1]=m=>o.setScorllGotoTop())},D(o.pageTitle),1)],4),o.mobileMode?(c(),h("div",{key:0,class:"menu-icon",onClick:t[2]||(t[2]=m=>o.openMenu=!0)},[x(i,{name:"menu"})])):p("",!0),N((c(),h("div",{class:M(["menu",{show:o.openMenu&&o.mobileMode}]),onMaskClick:t[7]||(t[7]=m=>o.openMenu=!1)},[o.mobileMode?(c(),h("div",Ct," 异国迷宫的十字路口 ")):p("",!0),d("ul",Et,[x(s,{to:"/chaos"},{default:I(()=>[d("li",null,[At,o.routeLoading==="/chaos"?(c(),g(l,{key:0})):p("",!0)])]),_:1}),x(s,{to:"/pastel-memories"},{default:I(()=>[d("li",null,[Pt,o.routeLoading==="/pastel-memories"?(c(),g(l,{key:0})):p("",!0)])]),_:1}),o.darkMode?(c(),g(s,{key:0,to:"/waifu"},{default:I(()=>[d("li",null,[Gt,o.routeLoading==="/waifu"?(c(),g(l,{key:0})):p("",!0)])]),_:1})):p("",!0),o.isExpiredGreatOldOne||o.openGreatOldOneGate?(c(),g(s,{key:1,to:"/great-old-one"},{default:I(()=>[d("li",null,[$t,["/great-old-one/index","/contract"].includes(o.routeLoading)?(c(),g(l,{key:0})):p("",!0)])]),_:1})):p("",!0),o.darkMode?(c(),h("li",{key:2,onClick:t[3]||(t[3]=m=>o.setDarkModeDecodeKeyDialog=!0)},[d("span",Rt,D(o.darkModeDecodeKey?"重置":"设置")+"深色模式媒介 ",1)])):p("",!0)]),d("ul",Ut,[d("li",null,[jt,x(f,{modelValue:o.darkMode,"onUpdate:modelValue":t[4]||(t[4]=m=>o.darkMode=m),"on-click":o.onSwitchDarkMode},null,8,["modelValue","on-click"])]),d("li",null,[Ft,o.offlineModeOnly?(c(),g(f,{key:0,"model-value":!0,disabled:!0})):(c(),g(f,{key:1,modelValue:o.offlineMode,"onUpdate:modelValue":t[5]||(t[5]=m=>o.offlineMode=m),disabled:o.offlineModeOnly},null,8,["modelValue","disabled"]))]),o.isExpiredGreatOldOne||o.openGreatOldOneGate?(c(),h("li",Nt,[Wt,x(f,{modelValue:o.devMode,"onUpdate:modelValue":t[6]||(t[6]=m=>o.devMode=m)},null,8,["modelValue"])])):p("",!0)])],34)),[[H,o.openMenu&&o.mobileMode]]),o.setDarkModeDecodeKeyDialog?N((c(),h("div",Kt,[N(d("img",Yt,null,512),[[u]]),d("div",Xt,[qt,F("身上如同 "),x(k,{modelValue:o.darkModeDecodeKey,"onUpdate:modelValue":t[8]||(t[8]=m=>o.darkModeDecodeKey=m),"show-icon":!1},null,8,["modelValue"]),F(" 的诅咒试图理解人心? ")]),d("div",Jt,[x(L,{type:o.darkModeDecodeKey?"primary":"info",onClick:o.closeSetDarkModeDecodeKeyDialog},{default:I(()=>[F(D(o.darkModeDecodeKey?"确认":"忽略"),1)]),_:1},8,["type","onClick"])])])),[[H,!0]]):p("",!0)],6)}const Qt=S(zt,[["render",Zt],["__scopeId","data-v-9d0ac4ea"]]);const eo={components:{SvgIcon:he},setup(){return{messageList:Te([])}},methods:{open({msg:e,type:t,duration:n=3e3}){const o={msg:e,type:t,cancel:!1,active:!0,key:String(Date.now())};n&&setTimeout(()=>{o.cancel=!0,this.$forceUpdate(),setTimeout(()=>{this.messageList.splice(this.messageList.indexOf(o),1)},200)},n),setTimeout(()=>{o.active=!1,this.$forceUpdate()},200),this.messageList.push(o)}}},to={class:"msg-box"},oo={class:"msg"};function no(e,t,n,o,r,a){const s=v("SvgIcon");return c(),h("div",to,[d("ul",null,[(c(!0),h($,null,K(o.messageList,i=>(c(),h("li",{key:i.key,class:M({[i.type]:!0,cancel:i.cancel,active:i.active})},[x(s,{name:"info-circle"}),d("div",oo,[(c(!0),h($,null,K(i.msg.split(`
`),l=>(c(),h("div",{key:l,class:"line"},D(l),1))),128))])],2))),128))])])}const so=S(eo,[["render",no],["__scopeId","data-v-61ec490d"]]);let Z=null;const T=e=>(Z||(Z=de(so).mount("#msg-box")),Z.open(e),Z);T.success=function(e,t){T({msg:e,type:"success",...t})};T.error=function(e,t){T({msg:e,type:"error",...t})};T.info=function(e,t){T({msg:e,type:"info",...t})};T.warning=function(e,t){T({msg:e,type:"warning",...t})};const ro={install:(e,t)=>{e.config.globalProperties.$msgBox=T}},O=T,w=Ne({strict:!1,modules:{AppInfo:it,LocalStorage:Tt}}),ge=ue.create({baseURL:"https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/database"});ge.interceptors.request.use(e=>(e.apiMode="offline",e.params={...e.params,ts:Date.now()},e),e=>(console.log(e),Promise.reject(e)));ge.interceptors.response.use(e=>e.data,e=>{O.error(e.message),console.error(e);const t=e.config.url.indexOf("?")>-1?e.config.url.slice(0,e.config.url.indexOf("?")):e.config.url;throw delete oe[t],e});const oe={},Me=function(e){const t=e.url.indexOf("?")>-1?e.url.slice(0,e.url.indexOf("?")):e.url;return oe[t]||(oe[t]=ge(e)),oe[t].then(n=>JSON.parse(JSON.stringify(n)))},R=ue.create();R.interceptors.request.use(e=>{const{devMode:t,accessKey:n,darkModeDecodeKey:o,uuid:r}=w.state.LocalStorage;if(e.apiMode=t?"dev":"online",e.baseURL=t?"http://127.0.0.1:7004":"https://api.kooritea.moe",e.headers||(e.headers={}),n&&(e.headers["mass-controler-fingerprint"]=n),o&&(e.headers["mass-controler-fingerprint-dark"]=o),e.headers["mass-controler-uuid"]=r,document.referrer&&(e.headers.Referrer=document.referrer),e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){const a=Object.keys(e.data).reduce((s,i)=>(e.data[i]!==void 0&&(s[i]=e.data[i]),s),{});switch(e.requestType){case"urlencode":{e.data=Object.keys(a).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(a[s])}`).join("&");break}case"formdata":{const s=new FormData;for(const i in a)if(Array.isArray(a[i]))for(const l of a[i])s.append(i,l);else typeof a[i]=="object"&&!(a[i]instanceof File)?s.append(i,JSON.stringify(a[i])):s.append(i,a[i]);e.data=s;break}}}for(const a in e.params)String(e.params[a])||delete e.params[a];return e.headers["Local-Timestamp"]=Date.now()-new Date().getTimezoneOffset()*60*1e3,e},e=>(console.log(e),Promise.reject(e)));R.interceptors.response.use(e=>{const t=e.data;if(e.config.useRawResponse)return t;const{code:n,data:o,errorMsg:r}=t;if(n===4032){const a=new Error(`需要刷新页面: ${r}`);throw a.code=4032,a}if(n!==0){const a=r||"业务出错",s=new Error(a);throw s.response=e,e.config.errMsg!==!1&&O.error(r),s}return o},e=>{var t,n,o,r,a,s;if(e.config.errMsg!==!1){let i=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.errorMsg)||e.message;if((r=(o=e==null?void 0:e.response)==null?void 0:o.data)!=null&&r.errors){i="";for(const l of((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.errors)||[])i+=Object.keys(l.constraints).map(f=>`[${l.property}]: ${l.constraints[f]}`).join(`
`),i+=`
`}O.error(i)}throw console.error(e),e});const P={dev:null,online:null};function Le(e){return e&&!P.dev&&(P.dev=R({apiMode:"dev",url:"/user/knock",method:"post",errMsg:!1}).then(t=>{w.commit("AppInfo/setValue",{temporaryPublicKey:t.publicKey})}).catch(t=>{throw O.warning("无法访问在线服务器，正在使用离线模式"),t})),!e&&!P.online&&(P.online=R({apiMode:"online",url:"/user/knock",method:"post",errMsg:!1}).then(t=>{w.commit("AppInfo/setValue",{temporaryPublicKey:t.publicKey})}).catch(t=>{throw O.warning("无法访问在线服务器，正在使用离线模式"),t})),P[e?"dev":"online"]}async function A(){const{offlineMode:e,devMode:t}=w.state.LocalStorage;return e?{onlineMode:!1,request:Me}:Le(t).then(()=>({onlineMode:!0,request:n=>R(n).catch(o=>{if(o.code===4032)return P.dev=null,P.online=null,Le(t).then(()=>R(n));throw o})})).catch(n=>(w.commit("AppInfo/setMode",{offlineModeOnly:!0}),{onlineMode:!1,request:Me}))}const ve=ue.create();ve.interceptors.request.use(e=>{if(e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){const t=Object.keys(e.data).reduce((n,o)=>(e.data[o]!==void 0&&(n[o]=e.data[o]),n),{});switch(e.requestType){case"urlencode":{e.data=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&");break}case"formdata":{const n=new FormData;for(const o in t)if(Array.isArray(t[o]))for(const r of t[o])n.append(o,r);else typeof t[o]=="object"&&!(t[o]instanceof File)?n.append(o,JSON.stringify(t[o])):n.append(o,t[o]);e.data=n;break}}}for(const t in e.params)String(e.params[t])||delete e.params[t];return e},e=>(console.log(e),Promise.reject(e)));ve.interceptors.response.use(e=>e.data,e=>{throw O.error(e.message),console.error(e),e});function dn(e){return A().then(({onlineMode:t,request:n})=>t?n({method:"get",url:"/blog/hitokoto/random",params:{exclude:e.join(",")}}):n({method:"get",url:"/blog/hitokoto/data"}).then(o=>{const r=o.filter(a=>o.length===1||e.length===o.length||!e.includes(a.id));return r[Math.floor(Math.random()*r.length)]}))}function ao(){return A().then(({onlineMode:e,request:t})=>t(e?{method:"get",url:"/blog/link"}:{method:"get",url:"/blog/link/data"}))}function un({start:e,keyword:t}={}){return A().then(({onlineMode:n,request:o})=>{if(n)return/^#\d+$/.test(t)?o({method:"get",url:`/blog/essay/${t.slice(1)}`}).then(r=>[r]):o({method:"get",url:"/blog/essay",params:{start:e,keyword:t}});if(t){if(!/^#\d+$/.test(t))throw new Error("离线模式下仅可以使用[#id]形式检索");return o({url:`/blog/essay/${t.slice(1)}`}).then(r=>(r.content=te(r.content),[r]))}else return o({url:"/blog/essay/index"}).then(r=>{const a=r.reverse();if(e){const s=a.indexOf(Number(e));return Promise.all(a.slice(s,s+10).map(i=>o({url:`/blog/essay/${i}`}).then(l=>(l.content=te(l.content),l))))}else return Promise.all(a.slice(0,10).map(s=>o({url:`/blog/essay/${s}`}).then(i=>(i.content=te(i.content),i))))})})}function mn({id:e}={}){return A().then(({onlineMode:t,request:n})=>t?n({method:"get",url:`/blog/essay/${e}`}):n({method:"get",url:`/blog/essay/${e}`}).then(o=>(o.content=te(o.content),o)))}function hn(){return A().then(({onlineMode:e,request:t})=>t(e?{method:"get",url:"/blog/bangumi"}:{method:"get",url:"/blog/bangumi/data"}))}function fn(e){return A().then(({onlineMode:t,request:n})=>{const o=t?n:ve;return o({url:t?"/api/netease-cloud-music/public/song/detail":"https://netease-cloud-music-api-ashen-pi-45.vercel.app/song/detail",params:{ids:e,realIP:"116.25.146.177"}}).then(r=>{const a=t?r:r==null?void 0:r.songs;if(a.length>0)return{picUrl:a[0].al.picUrl,name:a[0].name,singer:a[0].ar.map(s=>s.name).join("/"),id:e,getPlayUrl:()=>o({url:t?"/api/netease-cloud-music/public/song/url":"https://netease-cloud-music-api-ashen-pi-45.vercel.app/song/url",params:{id:e,realIP:"116.25.146.177"}}).then(s=>{var i,l;return t?s:(l=(i=s==null?void 0:s.data)==null?void 0:i[0])==null?void 0:l.url})};throw new Error(`没有找到对应的音乐: ${e}`)})})}function io(){return A().then(({onlineMode:e,request:t})=>e?t({method:"get",url:"/system/version",useRawResponse:!0}):"Offline")}function pn(){return A().then(({onlineMode:e,request:t})=>t(e?{method:"get",url:"/blog/waifu"}:{method:"get",url:"/blog/waifu/data"}))}const lo=[{name:"人理存续保障机构 菲尼斯·迦勒底",href:"https://www.fate-go.jp",title:"非的干不过欧的"},{name:"白もち桜应援团",href:"https://twitter.com/sakura_siromoti",title:""},{name:"BiLiBiLi( ゜ -゜)つロ 乾杯~",href:"https://www.bilibili.com",title:""},{name:"地球脱出计划",href:"https://kooritea.moe/site-archives/eden/index.html",title:"死にゆく楽園へ、最後のラブストーリー。"},{name:"情低保护协会",href:"",title:"その目だれの目"},{name:"圣芙蕾雅学园",href:"https://www.benghuai.com/",title:"德丽莎世界第一可爱!"},{name:"星之海学园",href:"https://charlotte-anime.jp",title:`即使失去了重要之物，少年仍然直面命运。
即使忘记了重要之人，怪物仍然挑战命运。`},{name:"ミラシュカ王国",href:"https://music.163.com/#/album?id=82096",title:"心も、病気になる"},{name:"传颂星星之人",href:"https://key.visualarts.gr.jp/product/planetarian/hd_edition/",title:"プラネタリウムはいかがですか？決して消えることの無い、無窮のきらめき。"},{name:"美食殿堂",href:"https://game.bilibili.com/pcr/",title:"お腹ぺこぺこ"}],co="20240623-1(89c80605)",uo="https://kooritea.moe/assets/nanami.png",mo="https://kooritea.moe/assets/nanami-hurueru.png";const ho={name:"GlobalFooter",setup(){const e=_([]);ao().then(o=>{const r=o.filter(i=>i.state===1),a=o.filter(i=>i.state===2),s=[];for(;r.length>0;)s.push(r.splice(Math.random()*r.length,1)[0]);for(;a.length>0;)s.push(a.splice(Math.random()*a.length,1)[0]);e.value=s});const t=_(new Date().getFullYear()),n=_("");return io().then(o=>{n.value=o}),{setScorllGotoTop:Ee,links:e,year:t,tags:lo,BuildVersion:co,ServerVersion:n}}},_e=e=>(le("data-v-ac931321"),e=e(),ce(),e),fo={class:"container"},po={class:"tag-link-container"},go={class:"tag-link"},vo={class:"tags"},_o=["title"],yo=["href"],bo={class:"links"},wo=_e(()=>d("div",{class:"links-title"}," 友链 ",-1)),ko=["title"],xo=["href"],Mo=_e(()=>d("img",{class:"karada",src:uo},null,-1)),Lo=_e(()=>d("img",{class:"hurueru",src:mo},null,-1)),So=[Mo,Lo],Vo={class:"statement"},Do={class:"item",title:"如月"},Oo=We('<div class="item" title="email" data-v-ac931321><a target="_blank" href="mailto:admin@kooritea.moe" data-v-ac931321> admin@kooritea.moe </a></div><div class="item" title="Front end" data-v-ac931321><a target="_blank" href="https://github.com/vuejs/" data-v-ac931321> Page Powered by Vue 3 </a></div><div class="item" title="Back end" data-v-ac931321> Server Powered by Nginx &amp; Nest.js </div><div class="item" title="Static Resources" data-v-ac931321><a target="_blank" href="https://github.com/" data-v-ac931321> Storage Powered by Github Page </a></div><div class="item" title="CDN" data-v-ac931321><a target="_blank" href="https://www.jsdelivr.com/" data-v-ac931321> CDN Powered by jsDelivr </a></div><div class="item" title="萌备" data-v-ac931321><a target="_blank" href="https://icp.gov.moe" data-v-ac931321><img style="width:18px;height:18px;top:3px;position:relative;" src="https://icp.gov.moe/images/ico64.png" data-v-ac931321> 萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20207216" target="_blank" data-v-ac931321> 20207216号 </a></div><div class="item" title="备案" data-v-ac931321> 互联网安备：2333333333号 </div><div class="item" title="" data-v-ac931321><a target="_blank" href="https://automattic.com/cookies/" data-v-ac931321> 本站不使用Cookie，Cookie政策爬 </a></div>',8),Io={key:0,class:"item",title:"Build Version"},To={key:1,class:"item",title:"Build Version"};function Bo(e,t,n,o,r,a){return c(),h("footer",null,[d("div",fo,[d("div",po,[d("div",go,[d("div",vo,[(c(!0),h($,null,K(o.tags,s=>(c(),h("div",{key:s.name,class:"tag",title:s.title?s.title:s.href},[d("a",{target:"_blank",href:s.href,style:C({cursor:s.href?"pointer":"default",pointerEvents:s.href?"unset":"none"})},D(s.name),13,yo)],8,_o))),128))]),d("div",bo,[wo,(c(!0),h($,null,K(o.links,s=>(c(),h("div",{key:s.name,class:M(["link",{offline:s.state===2}]),title:`${s.state===1?"":"[已失联]"}${s.abstract?s.abstract:s.url}`},[d("a",{target:"_blank",href:s.url,style:C({cursor:s.url?"pointer":"default",pointerEvents:s.url?"unset":"none"})},D(s.name),13,xo)],10,ko))),128))])]),d("div",{class:"nanami",onClick:t[0]||(t[0]=s=>o.setScorllGotoTop())},So)]),d("div",Vo,[d("div",Do,D(`© 2016-${o.year} kisaragi`),1),Oo,o.BuildVersion?(c(),h("div",Io," Page Build: "+D(o.BuildVersion),1)):p("",!0),o.ServerVersion?(c(),h("div",To," Server Build: "+D(o.ServerVersion),1)):p("",!0)])])])}const Ho=S(ho,[["render",Bo],["__scopeId","data-v-ac931321"]]);const zo={name:"GlobalLayout",components:{GlobalNav:Qt,GlobalFooter:Ho},setup(){const{fullscreen:e}=He();return{fullscreen:e}}};function Co(e,t,n,o,r,a){const s=v("GlobalNav"),i=v("router-view"),l=v("GlobalFooter");return c(),h($,null,[x(s),d("div",{class:M(["route-body",{fullscreen:o.fullscreen}])},[x(i,null,{default:I(({Component:f})=>[e.$route.meta.keepAlive?(c(),g(Be,{key:0},[(c(),g(ne(f)))],1024)):p("",!0),e.$route.meta.keepAlive?p("",!0):(c(),g(ne(f),{key:1}))]),_:1})],2),x(l)],64)}const Se=S(zo,[["render",Co],["__scopeId","data-v-afeb444b"]]);function Eo(e,t){const{openGreatOldOneGate:n}=w.state.AppInfo,o=w.getters["AppInfo/isGreatOldOne"],{isExpiredGreatOldOne:r}=w.state.LocalStorage;if(!n&&!o&&!r)return{path:"/"};if(o)return{path:"/great-old-one"}}function Ao(e,t){if(!w.getters["AppInfo/isGreatOldOne"])return{path:"/contract",query:{redirect:e.fullPath}}}function b(e){return e.catch(t=>{throw O.error(`动态加载组件失败, ${t}`),w.commit("AppInfo/setValue",{routeLoading:null}),t})}const Po=[{path:"/",component:Se,redirect:"/chaos",meta:{keepAlive:!0},children:[{path:"/home",component:()=>b(y(()=>import("./HomePage-1203f543.js"),["https://kooritea.moe/assets/HomePage-1203f543.js","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/HomePage-dc07e34b.css"],import.meta.url)),meta:{title:"冰茶的糖果罐",fullscreen:!0}},{path:"/chaos",component:()=>b(y(()=>import("./ChaosPage-183ef9e3.js"),["https://kooritea.moe/assets/ChaosPage-183ef9e3.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/NextButton-f9dde810.js","https://kooritea.moe/assets/NextButton-f0a76b3b.css","https://kooritea.moe/assets/MarkDown-a5e2e05d.js","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/MarkDown-367a7da1.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/ChaosPage-2d6d4f24.css"],import.meta.url)),meta:{title:"试图画出时间的影子",darkTitle:"稍微窥探头脑中的混沌",keepAlive:!0}},{path:"/pastel-memories",component:()=>b(y(()=>import("./BangumiPage-eecfc57c.js"),["https://kooritea.moe/assets/BangumiPage-eecfc57c.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/BangumiPage-590b5ed5.css"],import.meta.url)),meta:{title:"番剧列表",darkTitle:"粉色回忆",keepAlive:!0}},{path:"/waifu",component:()=>b(y(()=>import("./WaifuPage-0c2c9533.js"),["https://kooritea.moe/assets/WaifuPage-0c2c9533.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/NextButton-f9dde810.js","https://kooritea.moe/assets/NextButton-f0a76b3b.css","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/WaifuPage-0a1d49a7.css"],import.meta.url)),meta:{title:"誰でも大好き",darkTitle:"神经病，难道她们不是我老婆吗",keepAlive:!0}},{path:"/contract",component:()=>b(y(()=>import("./ContractPage-14c25579.js"),["https://kooritea.moe/assets/ContractPage-14c25579.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/ContractPage-49c8e2be.css"],import.meta.url)),beforeEnter:[Eo],meta:{title:"Access",darkTitle:"圆环契约",keepAlive:!0}}]},{path:"/great-old-one",component:Se,redirect:"/great-old-one/index",beforeEnter:[Ao],meta:{keepAlive:!0},children:[{path:"/great-old-one/index",component:()=>b(y(()=>import("./GOOIndexPage-0d2e45fd.js"),["https://kooritea.moe/assets/GOOIndexPage-0d2e45fd.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GOOIndexPage-132ca37f.css"],import.meta.url)),meta:{title:"后台管理",darkTitle:"旧日支配者的花园"}},{path:"/great-old-one/chaos",component:()=>b(y(()=>import("./GOOChaosPage-74a629f0.js"),["https://kooritea.moe/assets/GOOChaosPage-74a629f0.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/MDEditor-26b34c17.js","https://kooritea.moe/assets/MarkDown-a5e2e05d.js","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/MarkDown-367a7da1.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/MDEditor-d8bfd42c.css","https://kooritea.moe/assets/GOOChaosPage-faf7e6c2.css"],import.meta.url)),meta:{title:"编写随笔",darkTitle:"创造混沌"}},{path:"/great-old-one/revelation",component:()=>b(y(()=>import("./GOORevelationPage-9b45a193.js"),["https://kooritea.moe/assets/GOORevelationPage-9b45a193.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GOORevelationPage-08482c3b.css"],import.meta.url)),meta:{title:"浏览日志",darkTitle:"启示录"}},{path:"/great-old-one/mabinogion",component:()=>b(y(()=>import("./GOOMabinogionPage-15264826.js"),["https://kooritea.moe/assets/GOOMabinogionPage-15264826.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/GOOMabinogionPage-aebfe1d7.css"],import.meta.url)),meta:{title:"处理待办",darkTitle:"黑暗圣典"}},{path:"/great-old-one/deathnote",component:()=>b(y(()=>import("./GOODeathNotePage-674d3b74.js"),["https://kooritea.moe/assets/GOODeathNotePage-674d3b74.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/GOODeathNotePage-3665cc06.css"],import.meta.url)),meta:{title:"文件管理",darkTitle:"死亡笔记"}},{path:"/great-old-one/pastel-memories",component:()=>b(y(()=>import("./GOOBangumiPage-f2e37ad8.js"),["https://kooritea.moe/assets/GOOBangumiPage-f2e37ad8.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/NextButton-f9dde810.js","https://kooritea.moe/assets/NextButton-f0a76b3b.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/GOOBangumiPage-2b07c6f0.css"],import.meta.url)),meta:{title:"番剧管理",darkTitle:"粉色回忆"}},{path:"/great-old-one/waifu",component:()=>b(y(()=>import("./GOOWaifuPage-63c132f2.js"),["https://kooritea.moe/assets/GOOWaifuPage-63c132f2.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/GOOWaifuPage-1ec54635.css"],import.meta.url)),meta:{title:"waifu管理",darkTitle:"waifu管理"}},{path:"/great-old-one/analytics",component:()=>b(y(()=>import("./GOOAnalyticsPage-8c746bae.js"),["https://kooritea.moe/assets/GOOAnalyticsPage-8c746bae.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/echarts-4b46dc4c.js","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GOOAnalyticsPage-248c0512.css"],import.meta.url)),meta:{title:"分析统计",darkTitle:"分析统计"}},{path:"/great-old-one/online-device",component:()=>b(y(()=>import("./GOOOnlineDevice-3646fa6f.js"),["https://kooritea.moe/assets/GOOOnlineDevice-3646fa6f.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/GOOOnlineDevice-72538a4f.css"],import.meta.url)),meta:{title:"在线设备",darkTitle:"在线设备"}},{path:"/great-old-one/mpush",component:()=>b(y(()=>import("./GOOMpushPage-a044884b.js"),["https://kooritea.moe/assets/GOOMpushPage-a044884b.js","https://kooritea.moe/assets/PageHeader-7d6d8c4d.js","https://kooritea.moe/assets/vendor-b07f99b0.js","https://kooritea.moe/assets/highlightjs-4914df6f.js","https://kooritea.moe/assets/PageHeader-1837a03f.css","https://kooritea.moe/assets/MDEditor-26b34c17.js","https://kooritea.moe/assets/MarkDown-a5e2e05d.js","https://kooritea.moe/assets/ImageCon-fc1933d2.js","https://kooritea.moe/assets/ImageCon-235c60d0.css","https://kooritea.moe/assets/MarkDown-367a7da1.css","https://kooritea.moe/assets/GreatOldOne-1ef1fccb.js","https://kooritea.moe/assets/element-plus-966ba156.js","https://kooritea.moe/assets/element-plus-4a738b01.css","https://kooritea.moe/assets/MDEditor-d8bfd42c.css","https://kooritea.moe/assets/GOOMpushPage-8601210e.css"],import.meta.url)),meta:{title:"消息推送",darkTitle:"消息推送"}}]},{path:"/:pathMatch(.*)*",redirect:"/"}],ye=Ke({history:Ye(),routes:Po});ye.beforeEach((e,t)=>{w.commit("AppInfo/setValue",{routeLoading:e.fullPath})});ye.afterEach((e,t)=>{w.state.AppInfo.routeLoading===e.fullPath&&w.commit("AppInfo/setValue",{routeLoading:null}),window.scrollTo({left:0,top:0,behavior:"smooth"})});const Go={components:{AsyncButtom:Ce},props:{handlers:{type:Array,default:()=>[]}},setup(e,{emit:t}){const{computedHandlers:n}=se(e,t);return{computedHandlers:z(()=>n.value.map(o=>vt(o,["handler"])).filter(o=>o.show!==!1).sort((o,r)=>o.sort-r.sort))}}},$o={class:"button-box"};function Ro(e,t,n,o,r,a){const s=v("AsyncButtom");return c(),h("div",$o,[(c(!0),h($,null,K(o.computedHandlers,i=>(c(),g(s,{key:i.name,type:i.type,"on-click":i.handler,confirm:i.confirm,disabled:i.disabled,upload:i.upload},{default:I(()=>[F(D(i.name),1)]),_:2},1032,["type","on-click","confirm","disabled","upload"]))),128))])}const Uo=S(Go,[["render",Ro],["__scopeId","data-v-25d4eddf"]]);function Q(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jo(e=()=>{}){const t=_(0),n=_(0),o=_(null),r=_(null),a=_(""),s={start:!1,startCoordinate:{x:0,y:0},prevCoordinate:{x:0,y:0},endCoordinate:{x:0,y:0},touches:null,isScale:!1};return{offsetX:t,offsetY:n,imageWidth:o,imageHeight:r,mainBorder:a,touchstart:u=>{u.preventDefault(),s.start=!0,u.touches.length===1?(s.startCoordinate={x:u.touches[0].clientX,y:u.touches[0].clientY},s.prevCoordinate={x:u.touches[0].clientX,y:u.touches[0].clientY}):s.touches=u.touches},touchmove:u=>{if(u.preventDefault(),s.start){if(u.touches.length>1){s.isScale=!0;let m=s.touches[0],V=s.touches[1];const j=Q({x:m.clientX,y:m.clientY},{x:V.clientX,y:V.clientY});m=u.touches[0],V=u.touches[1];const X=Q({x:m.clientX,y:m.clientY},{x:V.clientX,y:V.clientY}),G=(j-X)/10;a.value==="height"?r.value-G>50&&(r.value=r.value-G):o.value-G>50&&(o.value=o.value-G)}else if(!s.isScale){const m={x:u.touches[0].clientX,y:u.touches[0].clientY};t.value+=s.prevCoordinate.x-m.x,n.value+=s.prevCoordinate.y-m.y,s.prevCoordinate=m}}},touchend:u=>{u.preventDefault(),u.touches.length===0&&(s.isScale?s.isScale=!1:(s.start=!1,s.endCoordinate={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY},Q(s.startCoordinate,s.endCoordinate)<5&&e()))},mousedown:u=>{u.preventDefault(),s.start=!0,s.startCoordinate={x:u.clientX,y:u.clientY},s.prevCoordinate={x:u.clientX,y:u.clientY}},mousemove:u=>{if(u.preventDefault(),s.start){const m={x:u.clientX,y:u.clientY};t.value+=s.prevCoordinate.x-m.x,n.value+=s.prevCoordinate.y-m.y,s.prevCoordinate=m}},mouseup:u=>{u.preventDefault(),s.start&&(s.start=!1,s.endCoordinate={x:u.clientX,y:u.clientY},Q(s.startCoordinate,s.endCoordinate)<5&&e())}}}const Fo={components:{LoadingIcon:Y,ButtonBox:Uo},setup(){const e=_(!1),t=_(!1),n=_(!1),o=_(""),r=Te([]),a=()=>{e.value=!1,t.value=!1,l.value=null,f.value=null,s.value=0,i.value=0,k.value="",o.value=""},{offsetX:s,offsetY:i,imageWidth:l,imageHeight:f,mainBorder:k,touchstart:L,touchmove:H,touchend:u,mousedown:m,mousemove:V,mouseup:j}=jo(a);return{visible:e,loading:t,src:o,handlers:r,offsetX:s,offsetY:i,imageWidth:l,imageHeight:f,mainBorder:k,touchstart:L,touchmove:H,touchend:u,mousedown:m,mousemove:V,mouseup:j,callClose:a,isWheel:n}},computed:{imageWidthString(){return this.imageWidth===null?"auto":this.imageWidth+"px"},imageHeightString(){return this.imageHeight===null?"auto":this.imageHeight+"px"}},methods:{open({src:e,handlers:t=[]}){this.loading=!0,this.visible=!0,this.src=e,this.handlers=t;let n=!1;const o=setInterval(()=>{!n&&this.$refs.img&&this.$refs.img.width&&this.$refs.img.height&&(n=!0,clearInterval(o),this.initImageSize())},100)},vw(e){return document.documentElement.clientWidth*(e/100)},vh(e){return document.documentElement.clientHeight*(e/100)},initImageSize(){const e=this.$refs.img,t=this.vw(100);if(this.vh(100)>t){const o=this.vh(80);e.width/e.height*o>this.vw(80)?(this.imageWidth=this.vw(80),this.mainBorder="width"):(this.imageHeight=o,this.mainBorder="height")}else{const o=this.vw(80);e.height/e.width*o>this.vh(80)?(this.imageHeight=this.vh(80),this.mainBorder="height"):(this.imageWidth=o,this.mainBorder="width")}},onLoad(e){this.loading=!1},onWheel(e){e.preventDefault(),this.isWheel=!0,this.loading||(this.mainBorder==="height"?this.imageHeight-e.deltaY>50&&(this.imageHeight=this.imageHeight-e.deltaY):this.imageWidth-e.deltaY>50&&(this.imageWidth=this.imageWidth-e.deltaY))}}},No=["src"];function Wo(e,t,n,o,r,a){const s=v("LoadingIcon"),i=v("ButtonBox");return o.visible?(c(),h("div",{key:0,class:"image-viewer",onWheel:t[7]||(t[7]=B((...l)=>a.onWheel&&a.onWheel(...l),["prevent","stop"])),onTouchstart:t[8]||(t[8]=(...l)=>o.touchstart&&o.touchstart(...l)),onTouchmove:t[9]||(t[9]=l=>{o.isWheel=!1,o.touchmove(l)}),onTouchend:t[10]||(t[10]=(...l)=>o.touchend&&o.touchend(...l)),onMousedown:t[11]||(t[11]=(...l)=>o.mousedown&&o.mousedown(...l)),onMousemove:t[12]||(t[12]=(...l)=>o.mousemove&&o.mousemove(...l)),onMouseup:t[13]||(t[13]=(...l)=>o.mouseup&&o.mouseup(...l))},[d("div",{class:M(["img-bg",{loading:o.loading}]),style:C({left:`calc(50% - ${o.offsetX}px)`,top:`calc(50% - ${o.offsetY}px)`})},[N(d("img",{ref:"img",class:M(["image",{"is-wheel":o.isWheel}]),style:C({height:a.imageHeightString,width:a.imageWidthString}),src:o.src,onLoad:t[0]||(t[0]=(...l)=>a.onLoad&&a.onLoad(...l))},null,46,No),[[Xe,o.imageWidth||o.imageHeight]])],6),o.loading?(c(),g(s,{key:0,class:"loading"})):p("",!0),o.handlers.length>0?(c(),g(i,{key:1,handlers:o.handlers,onTouchstart:t[1]||(t[1]=B(()=>{},["stop"])),onTouchmove:t[2]||(t[2]=B(()=>{},["stop"])),onTouchend:t[3]||(t[3]=B(()=>{},["stop"])),onMousedown:t[4]||(t[4]=B(()=>{},["stop"])),onMousemove:t[5]||(t[5]=B(()=>{},["stop"])),onMouseup:t[6]||(t[6]=B(()=>{},["stop"]))},null,8,["handlers"])):p("",!0)],32)):p("",!0)}const Ko=S(Fo,[["render",Wo],["__scopeId","data-v-0cc0c4bd"]]);let ee=null;const Re=(e,t={})=>(ee||(ee=de(Ko).mount("#image-viewer")),ee.open({src:e,...t}),ee),Yo={install:(e,t)=>{e.config.globalProperties.$imagePreview=Re}},gn=Re;const Xo={components:{ElConfigProvider:Je},setup(){const{darkMode:e,mobileMode:t}=me(),{accessKey:n,offlineMode:o,devMode:r}=Ge(),a=()=>{t.value=window.innerWidth<window.innerHeight};W(e,i=>{i?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}),W(t,i=>{i?document.body.classList.add("mobile-mode"):document.body.classList.remove("mobile-mode")}),Oe(()=>{window.addEventListener("resize",a),a();const i=new Date().getHours();i>=0&&i<6&&(e.value=!0,O.warning("现在是网抑时间"))}),Ie(()=>{window.removeEventListener("resize",a)}),r.value&&O.warning("已设置使用开发模式"),o.value&&O.warning("已设置使用离线模式");const s=new Date;return s.getHours()>=17&&s.getHours()<19&&O.warning("逢魔之时"),window.__toAuthAssetsUrl=function(i){return`${i}?token=${n.value}`},{locale:Ze}}},qo={class:"app"};function Jo(e,t,n,o,r,a){const s=v("router-view"),i=v("el-config-provider");return c(),g(i,{locale:o.locale},{default:I(()=>[d("div",qo,[x(s,null,{default:I(({Component:l})=>[e.$route.meta.keepAlive?(c(),g(Be,{key:0},[(c(),g(ne(l)))],1024)):p("",!0),e.$route.meta.keepAlive?p("",!0):(c(),g(ne(l),{key:1}))]),_:1})])]),_:1},8,["locale"])}const Zo=S(Xo,[["render",Jo]]),U=de(Zo);U.use(ye);U.use(w);U.use(Yo);U.use(ro);U.use(lt);U.mount("#app");export{Ce as A,Uo as B,gn as I,Y as L,O as M,he as S,xt as T,S as _,Ge as a,mn as b,un as c,an as d,It as e,sn as f,dn as g,y as h,Vt as i,se as j,hn as k,pn as l,Dt as m,ct as n,ln as o,cn as p,ve as q,fn as r,Ee as s,ie as t,me as u,A as v,rn as w,He as x};
