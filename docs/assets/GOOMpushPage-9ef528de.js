import{P as g}from"./PageHeader-4a3be313.js";import{_ as x,T as V,l as f,R as i,M as m}from"./index-10604cd2.js";import{M as h,u as y}from"./MDEditor-5f17c565.js";import{b8 as n,cg as p,aR as M,aS as H,bD as r,aT as b,bB as P}from"./vendor-cce75f21.js";import"./element-plus-f8e054a6.js";import"./highlightjs-4914df6f.js";import"./MarkDown-491291f4.js";import"./ImageCon-06f48c48.js";const k={components:{PageHeader:g,TextInput:V,MDEditor:h,AsyncSwitch:f},setup(){const s=n(""),e=n(!0),t=n(""),a=n(""),d=n(null);return{target:s,isGroup:e,title:t,desp:a,exHandlers:[{name:"发送",type:"primary",handler:()=>{const l=s.value||(e.value?"admin":"kooritea");i(l,e.value?"group":"personal",{text:t.value,desp:a.value||void 0}).then(()=>{m.success("发表成功"),t.value="",d.value.submitHandler()})}},{name:"提交预约",type:"primary",handler:()=>{y(l=>{const u=s.value||(e.value?"admin":"kooritea");return i(u,e.value?"group":"personal",{text:t.value,desp:a.value||void 0,reservation:l.value}).then(()=>{m.success("预约成功"),t.value="",d.value.submitHandler()})})}}],editor:d}}},G={class:"page"},T={class:"group-cell"};function B(s,e,t,a,d,c){const l=p("PageHeader"),u=p("TextInput"),_=p("AsyncSwitch"),v=p("MDEditor");return M(),H("div",G,[r(l),r(u,{modelValue:a.target,"onUpdate:modelValue":e[0]||(e[0]=o=>a.target=o),placeholder:a.isGroup?"admin":"kooritea",style:{"margin-bottom":"12px"}},null,8,["modelValue","placeholder"]),b("div",T,[P(" 群发 "),r(_,{modelValue:a.isGroup,"onUpdate:modelValue":e[1]||(e[1]=o=>a.isGroup=o)},null,8,["modelValue"])]),r(u,{modelValue:a.title,"onUpdate:modelValue":e[2]||(e[2]=o=>a.title=o),placeholder:"标题",style:{"margin-bottom":"12px"}},null,8,["modelValue"]),r(v,{ref:"editor",modelValue:a.desp,"onUpdate:modelValue":e[3]||(e[3]=o=>a.desp=o),"show-default-handlers":["reset","clean"],"ex-handlers":a.exHandlers},null,8,["modelValue","ex-handlers"])])}const N=x(k,[["render",B],["__scopeId","data-v-fdda49d8"]]);export{N as default};
