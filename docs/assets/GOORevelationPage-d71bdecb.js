import{_ as g,A as k,L as S,S as C,u as L,f as I,z as B}from"./index-7b9a30c5.js";import{P as V}from"./PageHeader-b5f3a320.js";import{b8 as H,bI as M,cg as i,aR as a,aS as o,bD as r,aT as d,bx as b,bA as t,a_ as w,b_ as A,bB as u,bs as y,bC as c,bw as P}from"./vendor-a6581121.js";import"./element-plus-5d967f66.js";import"./highlightjs-4914df6f.js";const D={components:{AsyncButtom:k,PageHeader:V,LoadingIcon:S,SvgIcon:C},setup(){const _=H(!1),n=M([]),{mobileMode:p}=L(),s=()=>{var l;return B((l=n==null?void 0:n[0])==null?void 0:l.uuid,_.value?"1":"0").then(m=>{n.unshift(...m)})};return s(),{isShowVerbose:_,load:s,logs:n,formatDate:I,mobileMode:p}}},N={class:"page"},O={class:"handlers"},z={class:"log-box"},R={key:0,class:"loading-box"},j=["onClick"],G={class:"message"},T={class:"datetime"},E={key:0,class:"context"},F={class:"title"},q={key:1,class:"append"},J={key:3,class:"collection-flag"},K={key:0,class:"expand"};function Q(_,n,p,s,l,m){const f=i("PageHeader"),h=i("AsyncButtom"),v=i("LoadingIcon"),x=i("SvgIcon");return a(),o("div",N,[r(f),d("div",O,[r(h,{onLoadingClick:s.load,type:"primary"},{default:b(()=>[u(" 加载更多 ")]),_:1},8,["onLoadingClick"]),r(h,{onLoadingClick:()=>(s.isShowVerbose=!s.isShowVerbose,s.logs.splice(0,s.logs.length),s.load()),type:s.isShowVerbose?"primary":"default"},{default:b(()=>[u(" 显示verbose日志 ")]),_:1},8,["onLoadingClick","type"])]),d("div",z,[s.logs.length===0?(a(),o("div",R,[r(v)])):t("",!0),(a(!0),o(w,null,A(s.logs,e=>(a(),o("div",{key:e.uuid,class:y(["log",{[e.level]:!0,"can-expand":!!e.desp}]),onClick:U=>e.expand=!e.expand},[d("div",G,[d("span",T,c(s.formatDate(e.date,s.mobileMode&!e.expand?"MM-dd HH:mm:ss":"yyyy-MM-dd HH:mm:ss")),1),!s.mobileMode||e.expand?(a(),o("span",E,"["+c(e.context.join("->"))+"]",1)):t("",!0),d("span",F,c(e.message),1),e.appendStr.length>0?(a(),o("span",q,"......"+c(e.appendStr.join(",")),1)):t("",!0),e.desp?(a(),P(x,{key:2,name:"zhankai1",class:y({"is-expand":e.expand})},null,8,["class"])):t("",!0),e.collection.length>0?(a(),o("span",J," +"+c(e.collection.length),1)):t("",!0)]),e.expand?(a(),o("div",K,c(e.desp),1)):t("",!0)],10,j))),128))])])}const ee=g(D,[["render",Q],["__scopeId","data-v-86bfeb23"]]);export{ee as default};
