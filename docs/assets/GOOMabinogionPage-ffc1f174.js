import{_ as v,B as x,j as M,A as w,M as O}from"./index-cebb2139.js";import{P}from"./PageHeader-1434f07e.js";import{b as E,c as F,d as S,e as G,f as j,g as A,h as C}from"./element-plus-5ffd9a32.js";import{aU as N,cd as l,aL as u,bo as _,bp as r,aM as b,bP as U,br as n,bl as V,bQ as f,bm as q,bx as I,aN as R}from"./vendor-128acd8f.js";import{c as B,d as H}from"./GreatOldOne-277dd63c.js";import"./highlightjs-b0208cd2.js";const T={components:{ElForm:E,ElFormItem:F,ElInput:S,ElRadioGroup:G,ElRadio:j,ButtonBox:x},props:{modelValue:{type:Object,default:()=>({})},fields:{type:Array,default:()=>[]},onSubmit:{type:Function,default:void 0}},emits:["update:modelValue"],setup(e,{emit:d}){const c=N(null),{computedModelValue:t}=M(e,d);return{computedModelValue:t,handlers:[{name:"提交",type:"primary",handler:()=>new Promise(s=>{c.value.validate((m,i)=>{m&&(typeof e.onSubmit=="function"?s(e.onSubmit(t.value)):s())})})}],form:c}}};function L(e,d,c,t,k,s){const m=l("el-input"),i=l("el-radio"),y=l("el-radio-group"),p=l("el-form-item"),h=l("ButtonBox"),a=l("el-form");return u(),_(a,{ref:"form",model:t.computedModelValue,"label-position":"top"},{default:r(()=>[(u(!0),b(q,null,U(c.fields,o=>(u(),b("div",{key:o.prop},[n(p,{label:o.label,prop:o.prop,required:o.required},{default:r(()=>[o.type==="input"?(u(),_(m,{key:0,modelValue:t.computedModelValue[o.prop],"onUpdate:modelValue":g=>t.computedModelValue[o.prop]=g},null,8,["modelValue","onUpdate:modelValue"])):V("",!0),o.type==="boolean"?(u(),_(y,{key:1,modelValue:t.computedModelValue[o.prop],"onUpdate:modelValue":g=>t.computedModelValue[o.prop]=g},{default:r(()=>[n(i,{border:"",label:!0},{default:r(()=>[f("是")]),_:1}),n(i,{border:"",label:!1},{default:r(()=>[f("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["label","prop","required"])]))),128)),t.handlers.length>0?(u(),_(h,{key:0,handlers:t.handlers},null,8,["handlers"])):V("",!0)]),_:1},8,["model"])}const z=v(T,[["render",L]]);const Q={components:{AsyncButtom:w,PageHeader:P,GOOMabinogionFields:z,ElTable:A,ElTableColumn:C},setup(){const e=I([]),d=()=>H().then(c=>{e.splice(0,e.length),e.push(...c)});return d(),{realtodos:e,load:d}},methods:{onSubmit(e,d){return B(e.row.uuid,{type:"resolve",data:d}).then(()=>(O.success("处理成功"),this.load()))},reject(e,d){return B(e.row.uuid,{type:"reject",reason:d.inputValue}).then(()=>this.load())}}},D={class:"page"},J={class:"preview"},K={key:0,class:"quick-boolean"};function W(e,d,c,t,k,s){const m=l("PageHeader"),i=l("AsyncButtom"),y=l("GOOMabinogionFields"),p=l("el-table-column"),h=l("el-table");return u(),b("div",D,[n(m),n(h,{border:"",data:t.realtodos,style:{width:"100%"}},{default:r(()=>[n(p,{type:"expand"},{default:r(a=>[R("div",J,[a.row.fields.length===1&&a.row.fields[0].type==="boolean"?(u(),b("div",K,[n(i,{type:"primary","on-click":()=>s.onSubmit(a,{[a.row.fields[0].prop]:!0})},{default:r(()=>[f(" 是 ")]),_:2},1032,["on-click"]),n(i,{type:"default","on-click":()=>s.onSubmit(a,{[a.row.fields[0].prop]:!0})},{default:r(()=>[f(" 否 ")]),_:2},1032,["on-click"])])):(u(),_(y,{key:1,fields:a.row.fields,"on-submit":o=>s.onSubmit(a,o)},null,8,["fields","on-submit"]))])]),_:1}),n(p,{prop:"name",label:"描述"}),n(p,{label:"操作",width:"120px"},{default:r(a=>[n(i,{type:"danger",size:"mini","on-click":o=>s.reject(a,o),confirm:{showInput:!0,message:"请输入拒绝原因"}},{default:r(()=>[f(" 拒绝 ")]),_:2},1032,["on-click"])]),_:1})]),_:1},8,["data"])])}const te=v(Q,[["render",W],["__scopeId","data-v-3ac7795f"]]);export{te as default};
