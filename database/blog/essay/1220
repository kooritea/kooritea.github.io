{"id":1220,"content":"ActivatedRouteSnapshot类只有routeConfig属性拿到下一跳路由的信息,这里面只有path\n但是没有完整的url(有一个_routerState的私有属性包含了完整的url,但是typescript不会允许我拿私有属性)\n\n导致在缓存策略判断的时候不能区分子路由的`/a/b`和顶级路由`/b`,因为他们的routeConfig.path都是`b`\n\n只能曲线救国在routeConfig.data里面加入自定义的hash作为缓存策略的判断依据\n\n```javascript\nshouldDetach(route: ActivatedRouteSnapshot): boolean {\n    return !!route.data.keepAlive && !!route.data.saveHash;\n  }\n\n```","hide":"","time":"2019-10-25T14:43:15.000Z"}