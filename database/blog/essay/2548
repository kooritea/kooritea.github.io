{"id":2548,"content":"因为API29不允许SharedPreferences设置成其他应用可读写\n又不可能只是存几个key-value就用contentprovider(这玩意读写sqlite，麻烦得要死)\n\n只能出此下策\n\n```java\nFile dataDir = new File(getApplicationInfo().dataDir);\nFile prefsDir = new File(dataDir, \"shared_prefs\");\nFile prefsFile = new File(prefsDir, \"config.xml\");\nif (prefsFile.exists()) {\n    for (File file : new File[]{dataDir, prefsDir, prefsFile}) {\n        file.setReadable(true, false);\n        file.setExecutable(true, false);\n    }\n}\n```","hide":"","time":"2020-09-03T09:55:53.000Z"}