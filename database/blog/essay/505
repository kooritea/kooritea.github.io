{"id":505,"content":"神奇了，监听xmlhttprequest(xhr)跨域 post文件上传的upload.Progress事件就会出现跨域请求options\n\n```javascript\nlet form = new FormData();\nform.append(\"smfile\", file);\naxios({\n    url: 'https://sm.ms/api/upload',\n    method: 'post',\n    data: form \n}).then((res) => {\n    tmp.Complete(res.data.url);\n})\n// 200\n```\n```javascript\nlet form = new FormData();\nform.append(\"smfile\", file);\naxios({\n    url: 'https://sm.ms/api/upload',\n    method: 'post',\n    data: form ,\n    onUploadProgress: function(event){\n          tmp.Progress(event.loaded / event.total)\n      }\n}).then((res) => {\n    tmp.Complete(res.data.url);\n})\n// 会发送options -> 405\n// sm图床又不响应options[emoji yinxian]\n```\n","hide":"","time":"2018-12-09T05:33:43.000Z"}