{"id":1830,"content":"每次用opkg都要做好回车完就不能开机的准备\n不覆盖安装基本基本没法解决依赖关系,用了覆盖安装一不小心就炸了\n\n```bash\nopkg install --force-overwrite nginx-all-module\n```\n\n```\nnginx version: nginx/1.17.8 (x86_64-pc-linux-gnu)\nbuilt with OpenSSL 1.1.1d  10 Sep 2019 (running with OpenSSL 1.1.1b  26 Feb 2019)\nTLS SNI support enabled\nconfigure arguments: --target=x86_64-openwrt-linux --host=x86_64-openwrt-linux \\\n--build=x86_64-pc-linux-gnu --program-prefix= \\\n--program-suffix= --prefix=/usr --exec-prefix=/usr \\\n--bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib \\\n--sysconfdir=/etc --datadir=/usr/share --localstatedir=/var \\\n--mandir=/usr/man --infodir=/usr/info --disable-nls \\\n--crossbuild=Linux::x86_64 --prefix=/usr --conf-path=/etc/nginx/nginx.conf \\\n--with-http_ssl_module \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-naxsi/naxsi_src \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/lua-nginx --with-ipv6 \\\n--with-http_stub_status_module --with-http_flv_module --with-http_dav_module \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-dav-ext-module \\\n--with-http_auth_request_module --with-http_v2_module \\\n--with-http_realip_module --with-http_secure_link_module \\\n--with-http_sub_module \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-headers-more --with-stream \\\n--with-stream_ssl_module --with-stream_ssl_preread_module \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-brotli \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-rtmp --add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-ts \\\n--add-module=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8/nginx-ubus-module \\\n--error-log-path=stderr --pid-path=/var/run/nginx.pid \\\n--lock-path=/var/lock/nginx.lock --http-log-path=/var/log/nginx/access.log \\\n--http-client-body-temp-path=/var/lib/nginx/body --http-proxy-temp-path=/var/lib/nginx/proxy \\\n--http-fastcgi-temp-path=/var/lib/nginx/fastcgi --with-cc=x86_64-openwrt-linux-musl-gcc \\\n--with-cc-opt='-I/builder/shared-workdir/build/sdk/staging_dir/target-x86_64_musl/usr/include -I/builder/shared-workdir/build/sdk/staging_dir/toolchain-x86_64_gcc-8.3.0_musl/usr/include -I/builder/shared-workdir/build/sdk/staging_dir/toolchain-x86_64_gcc-8.3.0_musl/include/fortify -I/builder/shared-workdir/build/sdk/staging_dir/toolchain-x86_64_gcc-8.3.0_musl/include -Os -pipe -fno-caller-saves -fno-plt -fhonour-copts -Wno-error=unused-but-set-variable -Wno-error=unused-result -ffile-prefix-map=/builder/shared-workdir/build/sdk/build_dir/target-x86_64_musl/nginx-all-module/nginx-1.17.8=nginx-1.17.8 -Wformat -Werror=format-security -fstack-protector -D_FORTIFY_SOURCE=1 -Wl,-z,now -Wl,-z,relro -fvisibility=hidden -ffunction-sections -fdata-sections -DNGX_LUA_NO_BY_LUA_BLOCK' \\\n--with-ld-opt='-L/builder/shared-workdir/build/sdk/staging_dir/target-x86_64_musl/usr/lib -L/builder/shared-workdir/build/sdk/staging_dir/target-x86_64_musl/lib -L/builder/shared-workdir/build/sdk/staging_dir/toolchain-x86_64_gcc-8.3.0_musl/usr/lib -L/builder/shared-workdir/build/sdk/staging_dir/toolchain-x86_64_gcc-8.3.0_musl/lib -znow -zrelro -Wl,--gc-sections' \\\n--without-http_upstream_zone_module\n\n```\n\n最不缺的就是空间,直接装全量了,不然用到缺,就麻烦","hide":"","time":"2020-03-16T17:48:51.000Z"}