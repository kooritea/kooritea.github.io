{"id":514,"content":"```bash\nvue-cli-service lint --fix\n```\n内存溢出无法解决\n\n```bash\n> vue-cli-service lint --fix\n\n\n<--- Last few GCs --->\n\n[27973:0x34ad750]    79453 ms: Mark-sweep 1364.8 (1439.8) -> 1351.9 (1439.8) MB, 349.6 / 0.0 ms  (average mu = 0.240, current mu = 0.197) allocation failure scavenge might\nnot succeed\n[27973:0x34ad750]    79861 ms: Mark-sweep 1366.0 (1439.8) -> 1353.1 (1440.8) MB, 306.9 / 0.0 ms  (average mu = 0.244, current mu = 0.249) allocation failure scavenge might\nnot succeed\n\n\n<--- JS stacktrace --->\n\n\n==== JS stack trace =========================================\n\n    0: ExitFrame [pc: 0xcabf295be1d]\nSecurity context: 0x35061bf1e6e1 <JSObject>\n    1: isDotDirectory [0x17d905f0dfb9] [/path/node_modules/_fast-glob@2.2.4@fast-glob/out/utils/path.js:~7] [pc=0xcabf2c698e0](this=0x263a10707469\n <Object map = 0xfb97715ea31>,filepath=0x3f1211635971 <String[650]: /path/node_modules/_@vue_cli-service@3.2.0@@vue/cli-service/node_modules/webpa\nck/node_modules/@...\n\nFATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory\n 1: 0x8daaa0 node::Abort() [node]\n 2: 0x8daaec  [node]\n 3: 0xad79ae v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [node]\n 4: 0xad7be4 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [node]\n 5: 0xece9e2  [node]\n 6: 0xeceae8 v8::internal::Heap::CheckIneffectiveMarkCompact(unsigned long, double) [node]\n 7: 0xedac12 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::GCCallbackFlags) [node]\n 8: 0xedb5d4 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [node]\n 9: 0xede241 v8::internal::Heap::AllocateRawWithRetryOrFail(int, v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [node]\n10: 0xea63c5  [node]\n11: 0xeadc6a v8::internal::Factory::NewRawOneByteString(int, v8::internal::PretenureFlag) [node]\n12: 0xff8ced v8::internal::String::SlowFlatten(v8::internal::Handle<v8::internal::ConsString>, v8::internal::PretenureFlag) [node]\n13: 0x11a4866 v8::internal::Runtime_StringCharCodeAt(int, v8::internal::Object**, v8::internal::Isolate*) [node]\n14: 0xcabf295be1d\nAborted (core dumped)\n```\n\n就算加大内存\n```bash\nnode --max_old_space_size=4096 node_modules/@vue/cli-service/bin/vue-cli-service lint --fix\n```\n最后也是占满4g然后GG\n\nvue-cli repo 有3个关于这个的issues\n还好我只是lint出问题\ndev和build出问题就烦了","hide":"","time":"2018-12-14T16:09:58.000Z"}