{"id":1663,"content":"瓜游提取出来的live2d\n用Cubism viewer预览就没问题，用js SDK和cubism framework加载就有一个叫_motiomData.points的内置集合类型访问越界出错\n而用sdk里面的sample模型却没问题，还以为是瓜游的模型有问题。\n\n调试了半天\n这个framework的逻辑是先从motion获取points的数量，然后根据数量初始化相应长度_motionData.points集合，然后再循环设值，之后就因为设值的时候超过了长度崩了。\n\n这种写法就离谱，明明直接new对象设值，再push进集合就不会有这种问题了。\n\n现在直接在初始化的时候给长度加个500就好了。\n当然这不是优雅的改法，改成不够的时候添加就不会浪费内存了\n\n不过实际上瓜游提取出来的模型确实有问题，而这个sdk恰好又没有容错\n\n![53db11468e5a69bc2e8c24ab39c10a2c](https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/img/2020/2/8/53db11468e5a69bc2e8c24ab39c10a2c.png)\n","hide":"","time":"2020-02-08T09:37:38.000Z"}