{"id":2550,"content":"老是有人说fcm可以直连为什么国内应用不接fcm\n\n实际上接入fcm分为两步\n第一步是应用向fcm注册，获取代表本设备身份的token，然后发送到应用服务器，让应用服务器推送消息时使用，但是注册这一步用的fcm注册服务器是完全被墙不能直连\n第二步就是客户端连接fcm推送服务器，等待消息推送，推送服务器有一部分ip被墙，所以根据dns返回的结果不同，就会有的人连得上有的人连不上\n\n所以，那些说「我没翻墙也能收到fcm推送啊？为什么国内应用不接fcm？」的人，肯定是翻过墙，让应用注册了fcm，然后偶然连上推送服务器接收到推送(因为fcm有ack机制，只要连上了就会推之前没有应答的消息，前提是消息没过期，这也是经常有人说fcm延迟巨大的原因)","hide":"","time":"2020-09-03T18:24:28.000Z"}