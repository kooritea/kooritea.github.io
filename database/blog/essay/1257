{"id":1257,"content":"```bash\niptables -t nat -A PREROUTING -i br-lan ! -s 192.168.1.233 -p udp --dport 53 -j DNAT --to 114.114.114.114:53\n```\n- -A 添加一条规则\n- PREROUTING 链(PREROUTING –> INPUT) 这里是指从外部访问进来的流量\n- -i 接口名称\n- ! -s !是取反,-s 源地址,有一个兄弟参数,-d 表示目标地址\n- -p tcp or udp\n- --dport 端口\n- -j DNAT 目标转换\n- --to 目标转换所要转换成的目标,如果不写端口就默认和源端口一样\n\n这么一条规则下来就是\n把从[br-lan]接口过来的,源地址不是192.168.1.233的,访问53端口的udp流量转发到114.114.114.114:53\n\n\n删除的话只要把-A改成-D就好了\n```bash\niptables -t nat -D PREROUTING -i br-lan ! -s 192.168.1.233 -p udp --dport 53 -j DNAT --to 114.114.114.114:53\n```\n","hide":"","time":"2019-11-02T07:32:59.000Z"}