{"id":1779,"content":"每次弹问题都会发请求，改成拦截特定请求拿到答案再模拟点击了\n\n```javascript\nwindow.originOpen = XMLHttpRequest.prototype.open\n\nXMLHttpRequest.prototype.open = function(method,url){\n  this.method = method\n  this.url = url\n  if(/studyservice.zhihuishu.com\\/popupAnswer\\/lessonPopupExam/.test(url)){\n    this.addEventListener('readystatechange',function(){\n      if(this.readyState === 4){\n        autoAnswer(JSON.parse(this.responseText))\n      }\n    })\n  }\n  return originOpen.call(this,...arguments)\n}\n\nfunction autoAnswer(data){\n  if(data.data.lessonTestQuestionUseInterfaceDtos.length > 1){\n    return \n  }\n  data.data.lessonTestQuestionUseInterfaceDtos.forEach((question,index)=>{\n    let answer = question.testQuestion.questionOptions.find((option)=>{\n      return option.result === '1'\n    })\n    console.log(answer)\n    setTimeout(()=>{\n      document.querySelectorAll('.topic-list .topic-item')[answer.sort - 1].click()\n      setTimeout(()=>{\n        document.querySelector('.dialog-test .dialog-footer .btn').click()\n        setTimeout(()=>{\n          document.querySelector('#playButton').click()\n        },parseInt(2000*Math.random()))\n      },parseInt(5000*Math.random()))\n    },parseInt(10000*Math.random()))\n  })\n}\n\ndocument.getElementById('vjs_container_html5_api').addEventListener('ended',()=>{\n  setTimeout(()=>{\n    document.getElementById('nextBtn').click()\n  },parseInt(2000*Math.random()))\n})\n\n\n```","hide":"","time":"2020-03-02T05:29:31.000Z"}