{"id":760,"content":"nginx 代理websocket最低心跳超时时间默认是60s\njava-websocket 貌似也是默认60s\nmiui在关闭屏幕的时候cpu唤醒频率是2分钟一次\n\n之前没有管默认超时时间，设置了30s的心跳\n手机锁屏后30s的心跳被限制到2分钟，变成了每分钟都因为心跳超时然后ws断开，然后2分钟到了又重连\n\n现在只要把心跳超时时间设置为300s，每150s发一次心跳就好了","hide":"","time":"2019-05-11T12:36:30.000Z"}